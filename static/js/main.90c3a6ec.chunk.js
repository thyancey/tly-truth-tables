(this["webpackJsonptly-truth-tables"]=this["webpackJsonptly-truth-tables"]||[]).push([[0],{35:function(n,t,e){},36:function(n,t,e){"use strict";e.r(t);var r,i,o,a,c,l,u,s,d,b,m,f,h,j,p,g,O,v,x,w,y,z,k,S,M,I,C,G,A,D=e(0),H=e.n(D),U=e(12),E=e.n(U),N=e(2),T=e(23),V=e(4),_=e(3),R=function(n){switch(n){case"display":return Object(_.b)(r||(r=Object(N.a)(["font-family: 'Noto Sans', sans-serif"])));case"speech":return Object(_.b)(i||(i=Object(N.a)(["font-family: 'VT323', monospace"])));default:return Object(_.b)(o||(o=Object(N.a)(["font-family: 'VT323', monospace"])))}},B=Object(_.a)(a||(a=Object(N.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    outline:0;\n    box-sizing:border-box;\n  }\n  #root{\n    margin:0 auto;\n  }\n  h1, h2, h3, h4{\n    font-family: 'Noto Sans', sans-serif;\n  }\n  a, p, button, span, h5, h6{\n    ",";\n  }\n  h1{\n    font-size: 5rem;\n  }\n  h2{\n    font-size: 4rem;\n  }\n  h3{\n    font-size: 3.5rem;\n  }\n  h4{\n    font-size: 2.5rem;\n  }\n  h5{\n    font-size: 2rem;\n  }\n  p, span{\n    font-size:2rem;\n  }\n\n  html{\n    font-size: 62.5%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    ",";\n    background-color: black;\n  }\n"])),R(),R()),F=function(n){return J.colors[n]},J={colors:{black:"#000000",grey:"#373737",grey_light:"#A39F8E",white:"#fef8dd",blue:"#1fb9f3",green:"#51f249",yellow:"#fff249",red:"#F55658",purple:"#6b1ff3"},shadows:{z1:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)",z2:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)",z3:"-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)"},breakpoints:{mobile_tiny:"300px",mobile_medium:"400px",mobile_large:"500px",tablet:"768px",desktop:"1024px"}},L=e(11),W=function(){return Object(L.b)()},q=L.c,X=e(22),$=e(15),K=e(13),P=[{id:"flyman",name:"fly man",thumbImage:"assets/fly.gif",largeImage:"assets/fly.gif"},{id:"thumbNun",name:"thumb nun",thumbImage:"assets/thumb-nun.gif",largeImage:"assets/thumb-nun.gif"}],Q={},Y=function(n){return Q[n]||(Q[n]=function(n){for(var t=[],e=0;e<n-1;e++){for(var r=[],i=0===e?0:n-e,o=0;o<n-1-e;o++)r.push([i,o+1]);t.push(r)}return t}(n)),Q[n]},Z={roundData:{title:"3 attributes, 3 values",description:"this puzzle has 4 attributes with 3 values each",valueSize:3,attributes:[{id:"animal",type:"normal",values:["monkey","frog","fish"]},{id:"queue",type:"order",values:["first","second","last"]},{id:"emotion",type:"normal",values:["happy","angry","sad"]},{id:"occupation",type:"normal",values:["firefighter","dentist","clown"]}]},cellMatrix:[],hints:[],activeHintIdx:-1,solution:null},nn=Object($.b)({name:"board",initialState:Z,reducers:{resetMatrix:function(n){var t;if((null===(t=n.roundData.attributes)||void 0===t?void 0:t.length)>0){var e,r=(null===(e=n.roundData.attributes)||void 0===e?void 0:e.length)||0,i=n.roundData.valueSize,o=Math.pow(i,2);if(r>1&&r<6){for(var a=en(i,r),c=Y(r),l=[],u=0,s=0;s<c.length;s++)for(var d=0;d<c[s].length;d++)for(var b=0;b<o;b++){var m=c[s][d],f=Math.floor(u%o/i),h=u%i,j=[[m[0],f],[m[1],h]],p=tn(a,j);l.push({idx:u++,attrs:m,isSolution:p,status:0})}n.solution=a,n.cellMatrix=l,n.hints=[{hintGiverIdx:Math.floor(Math.random()*P.length),text:"The first one in line lives on land"},{hintGiverIdx:Math.floor(Math.random()*P.length),text:"Ugh it's one of those creepy... sad clowns"},{hintGiverIdx:Math.floor(Math.random()*P.length),text:"The dentist showed up after the firefighter"}]}else console.error("must have between 2 and 5 attributes"),n.cellMatrix=[]}else n.cellMatrix=[]},rotateCell:function(n,t){if(n.cellMatrix){var e=rn(n.cellMatrix[t.payload]);n.cellMatrix[t.payload].status=e}},setActiveHint:function(n,t){t.payload>-1&&!n.hints[t.payload]&&console.error("cannot set invalid hint ".concat(t.payload)),n.activeHintIdx=t.payload}}}),tn=function(n,t){for(var e=function(e){if(2===t.filter((function(t){return n[e][t[0]]===t[1]})).length)return{v:!0}},r=0;r<n.length;r++){var i=e(r);if("object"===typeof i)return i.v}return!1},en=function(n,t){for(var e=[],r=0;r<t;r++)e.push(Array.from(Array(n).keys()));for(var i=[],o=0;o<n;o++){for(var a=[],c=0;c<e.length;c++){var l=Math.floor(Math.random()*e[c].length);a.push(e[c][l]),e[c].splice(l,1)}i.push(a)}return i},rn=function(n){try{switch(n.status){case 0:return 1;case 1:return 2;case 2:return 0}}catch(t){console.error("unexpected lookup for cellObj",n)}return 0},on=nn.actions,an=on.resetMatrix,cn=on.rotateCell,ln=on.setActiveHint,un=function(n){return n.board.cellMatrix},sn=function(n){return n.board.roundData},dn=function(n){return n.board.solution},bn=function(n){return n.board.hints},mn=function(n){return{hintGiver:P[n.hintGiverIdx],text:n.text}},fn=Object(K.a)([bn],(function(n){return n.map((function(n){return mn(n)}))})),hn=Object(K.a)([bn,function(n){return n.board.activeHintIdx}],(function(n,t){return-1===t?null:mn(n[t])})),jn=Object(K.a)([sn],(function(n){return n.attributes})),pn=Object(K.a)([sn],(function(n){return{numAttributes:n.attributes.length,gridSize:n.valueSize}})),gn=Object(K.a)([jn],(function(n){var t=Y(n.length),e=t.map((function(n){return n[0][0]})),r=t[0].map((function(n){return n[1]}));return[e.map((function(t){return n[t]})),r.map((function(t){return n[t]}))]})),On=Object(K.a)([sn,un],(function(n,t){var e,r=Y(null===(e=n.attributes)||void 0===e?void 0:e.length),i=0,o=r[0].length,a=Math.pow(n.valueSize,2);return null===r||void 0===r?void 0:r.map((function(n,e){return Object(X.a)(Array(o)).map((function(n,o){var c=[];if(!r[e][o])return c;for(var l=0;l<a;l++)c.push(t[i++]);return c}))}))})),vn=function(n,t,e){var r=Math.pow(e,2),i=function(n,t){return Y(t).flat()[n]}(Math.floor(n/r),t),o=Math.floor(n%r/e),a=n%e;return[[i[0],o],[i[1],a]]},xn=(Object(K.a)([sn,un,dn],(function(n,t,e){return{roundData:n,cellMatrix:t,solution:e}})),Object(K.a)([un],(function(n){return n.filter((function(n){return 1===n.status}))}))),wn=Object(K.a)([dn,sn],(function(n,t){return null===n||void 0===n?void 0:n.map((function(n){return n.map((function(n,e){return t.attributes[e].values[n]}))}))})),yn=(Object(K.a)([pn,xn],(function(n,t){return t.map((function(t){return vn(t.idx,n.numAttributes,n.gridSize)}))})),Object(K.a)([un],(function(n){var t=n.filter((function(n){return n.isSolution})).length,e=n.filter((function(n){return 1===n.status}));if(e.length!==t)return!1;for(var r=n.filter((function(n){return n.isSolution})),i=function(n){if(!e.find((function(t){return t.idx===r[n].idx})))return{v:!1}},o=0;o<r.length;o++){var a=i(o);if("object"===typeof a)return a.v}return!0}))),zn=nn.reducer,kn=e(1),Sn=_.c.div(c||(c=Object(N.a)(["\n  position:absolute;\n  transform: matrix(2.0,.9,-1.75,1.5,-300,-50) scale(.4) translate(-50%, -50%);\n  left: 50%;\n  top:50%;\n\n  display:grid;\n  grid-template-columns: 15rem 13rem 13rem 13rem; \n  grid-template-rows: 15rem 13rem 13rem 13rem; \n  column-gap: 2rem;\n  row-gap: 2rem;\n\n  >div{\n    display:grid;\n    column-gap: 2rem;\n    row-gap: 2rem;\n  }\n"]))),Mn=_.c.div(l||(l=Object(N.a)(["\n  grid-column: 15rem;\n  grid-row: 2 / span 3;\n  \n  grid-template-columns: 15rem; \n  grid-template-rows: 13rem 13rem 13rem;\n"]))),In=_.c.div(u||(u=Object(N.a)(["\n  text-align:right;\n  ","\n  ","\n  padding-right:1rem;\n  position:relative;\n  >span{\n    position:absolute;\n    right:0;\n    white-space:nowrap;\n  }\n"])),(function(n){return 4===n.gridSize?Object(_.b)(s||(s=Object(N.a)(["\n    height: 25%;\n  "]))):Object(_.b)(d||(d=Object(N.a)(["\n    height: 33%;\n  "])))}),(function(n){return 4===n.gridSize?Object(_.b)(b||(b=Object(N.a)(["\n    padding-top:0rem;\n  "]))):Object(_.b)(m||(m=Object(N.a)(["\n    padding-top:1rem;\n  "])))})),Cn=_.c.div(f||(f=Object(N.a)(["\n  grid-column: 2 / span 3;\n  grid-row: 15rem;\n  \n  grid-template-columns: 13rem 13rem 13rem;\n  grid-template-rows: 15rem;\n"]))),Gn=_.c.div(h||(h=Object(N.a)(["\n  display:inline-block;\n  ","\n  height: 100%;\n  position:relative;\n\n  span{\n    display:block;\n    position: absolute;\n    ","\n    bottom: -1.5rem;\n    display: block;\n    white-space: nowrap;\n    transform-origin: left;\n    transform: rotate(-90deg);\n  }\n"])),(function(n){return 4===n.gridSize?Object(_.b)(j||(j=Object(N.a)(["\n    width: 25%;\n  "]))):Object(_.b)(p||(p=Object(N.a)(["\n    width: 33%;\n  "])))}),(function(n){return 4===n.gridSize?Object(_.b)(g||(g=Object(N.a)(["\n      left: 1rem;\n    "]))):Object(_.b)(O||(O=Object(N.a)(["\n      left: 2rem;\n    "])))})),An=_.c.div(v||(v=Object(N.a)(["\n  grid-column: 2 / span 3;\n  grid-row: 2 / span 3;\n\n  grid-template-columns: 13rem 13rem 13rem;\n  grid-template-rows: 13rem 13rem 13rem;\n"]))),Dn=_.c.div(x||(x=Object(N.a)(["\n  display:grid;\n  column-gap: .6rem;\n  row-gap: .6rem;\n"]))),Hn=Object(_.c)(Dn)(w||(w=Object(N.a)(["\n  display:grid;\n  grid-template-columns: repeat(",", ",");\n  grid-template-rows: repeat(",", ",");\n  column-gap: .6rem;\n  row-gap: .6rem;\n"])),(function(n){return n.gridSize}),(function(n){return n.cellRatio}),(function(n){return n.gridSize}),(function(n){return n.cellRatio})),Un=_.c.div(y||(y=Object(N.a)(["\n  border: 3px solid ",";\n  cursor: pointer;\n  transition: background-color .1s, box-shadow .2s;\n  &:hover{\n    box-shadow: 0 0 .2rem .2rem white;\n  }\n  ",";\n  ",";\n  ",";\n"])),F("white"),(function(n){return 1===n.status&&Object(_.b)(z||(z=Object(N.a)(["background-color:",""])),F("green"))}),(function(n){return 2===n.status&&Object(_.b)(k||(k=Object(N.a)(["background-color:",""])),F("red"))}),(function(n){return n.isSolution&&Object(_.b)(S||(S=Object(N.a)(["border-color: ",""])),F("green"))})),En=Object(_.c)(Dn)(M||(M=Object(N.a)(["\n  background-color: ",";\n  opacity: .2;\n"])),F("white"));function Nn(){var n=W(),t=q(On),e=q(gn),r=q(pn),i=Object(D.useCallback)((function(t){n(cn(t))}),[n]),o=Object(D.useMemo)((function(){return 3===r.gridSize?"30%":4===r.gridSize?"20%":"".concat(Math.round(100/r.gridSize),"%")}),[r.gridSize]);return Object(kn.jsxs)(Sn,{children:[Object(kn.jsx)(An,{children:t.map((function(n){return n.map((function(n,t){return function(n,t,e,r){return n.length>0&&n[0]?Object(kn.jsx)(Hn,{gridSize:e,cellRatio:r,children:n.map((function(n){return Object(kn.jsx)(Un,{status:n.status,isSolution:n.isSolution,onClick:function(){return i(n.idx)}},"cell".concat(null===n||void 0===n?void 0:n.idx))}))},t):Object(kn.jsx)(En,{},t)}(n,"cg".concat(t),r.gridSize,o)}))}))}),Object(kn.jsx)(Cn,{children:e[1].map((function(n,t){return Object(kn.jsx)("div",{children:n.values.map((function(t,e){return Object(kn.jsx)(Gn,{gridSize:r.gridSize,children:Object(kn.jsx)("span",{children:"".concat(n.id," - ").concat(t)})},"tv".concat(e))}))},"tl".concat(t))}))}),Object(kn.jsx)(Mn,{children:e[0].map((function(n,t){return Object(kn.jsx)("div",{children:n.values.map((function(t,e){return Object(kn.jsx)(In,{gridSize:r.gridSize,children:Object(kn.jsx)("span",{children:"".concat(n.id," - ").concat(t)})},"lv".concat(e))}))},"ll".concat(t))}))})]})}var Tn,Vn,_n,Rn=_.c.div(I||(I=Object(N.a)(["\n  margin-left:2rem;\n"]))),Bn=_.c.div(C||(C=Object(N.a)(["\n  position:absolute;\n  right:0;\n  top:0;\n  padding: .5rem 1rem;\n  border: .5rem solid white;\n  border-radius: 0 0 0 1.5rem;\n\n  font-weight:bold;\n  font-size:3rem;\n"]))),Fn=Object(_.c)(Bn)(G||(G=Object(N.a)(["\n  background-color: ",";  \n"])),F("green")),Jn=Object(_.c)(Bn)(A||(A=Object(N.a)(["\n  background-color: ",";  \n"])),F("red"));function Ln(){var n=q(wn),t=q(yn);return console.log("solved",t),Object(kn.jsxs)(Rn,{children:[Object(kn.jsx)("h3",{children:"Solution:"}),Object(kn.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(n,t){return Object(kn.jsx)("li",{children:n.join(" | ")},t)}))}),t?Object(kn.jsx)(Fn,{children:"SOLVED"}):Object(kn.jsx)(Jn,{children:"UNSOLVED"})]})}var Wn,qn,Xn,$n,Kn,Pn,Qn=_.c.div(Tn||(Tn=Object(N.a)(["\n  margin-left:2rem;\n  height:2rem;\n  border-top: .25rem solid white;\n\n  h4{\n    margin-top:-4rem;\n  }\n  ul{\n    padding-left:10rem;\n    height:100%;\n  }\n"]))),Yn=_.c.div(Vn||(Vn=Object(N.a)(["\n  display:inline-block;\n  width:20rem;\n  height:100%;\n  vertical-align:top;\n  margin-left: 2rem;\n  margin-right: 2rem;\n  position: relative;\n"]))),Zn=_.c.div(_n||(_n=Object(N.a)(["\n  position:absolute;\n  width:100%;\n  left:50%;\n  transform: translateX(-50%);\n  height:20rem;\n  top:-12rem;\n  background: url(",") no-repeat center;\n  background-position:top;\n  background-size:cover;\n  cursor: pointer;\n\n  &:hover{\n    top:-16rem;\n    width:130%;\n    transition: top .2s ease-out, width .4s;\n    filter: drop-shadow(0 0 .5rem #ffffff);\n  }\n  transition: top .2s ease-out, width .4s;\n"])),(function(n){return n.imageUrl}));function nt(){var n=q(fn),t=W(),e=Object(D.useCallback)((function(n){t(ln(n))}),[t]);return Object(kn.jsxs)(Qn,{children:[Object(kn.jsx)("h4",{children:"Hints:"}),Object(kn.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(n,t){return Object(kn.jsx)(Yn,{children:Object(kn.jsx)(Zn,{imageUrl:n.hintGiver.thumbImage,title:n.text,onClick:function(){return e(t)}})},t)}))})]})}var tt,et,rt,it=_.c.div(Wn||(Wn=Object(N.a)(["\n  position:fixed;\n  z-index:1;\n  left:10%;\n  right:10%;\n  height:50%;\n  top:25%;\n  padding: 2rem;\n\n  border-radius: 1rem;\n  border: .5rem solid ",";\n  background-color: ",";\n\n  display:grid;\n  grid-template-columns: 33% 67%;\n  grid-template-rows: 5rem auto 10rem;\n"])),F("white"),F("black")),ot=_.c.div(qn||(qn=Object(N.a)(["\n  grid-column: 1 / span 1;\n  grid-row: 2 / span 1;\n  position:relative;\n"]))),at=_.c.div(Xn||(Xn=Object(N.a)(["\n  grid-column: 2 / span 1;\n  grid-row: 2 / span 1;\n  padding: 2rem;\n\n  p{\n    ",";\n    font-size:5rem;\n  }\n"])),R("speech")),ct=_.c.div($n||($n=Object(N.a)(["\n  grid-column: 2 / span 1;\n  grid-row: 1 / span 1;\n\n  text-align:right;\n  font-size: 3rem;\n  margin-right: 1rem;\n  margin-top: 0.5rem;\n"]))),lt=_.c.div(Kn||(Kn=Object(N.a)(["\n  grid-column: 1 / span 3;\n  grid-row: 3 / span 1;\n  padding: 2rem;\n\n  button{\n    border-radius: 1.5rem;\n    width: 100%;\n    height: 100%;\n    background-color: ",";\n    color: ",";\n    \n    font-size: 3rem;\n\n    cursor: pointer;\n  }\n"])),F("purple"),F("white")),ut=_.c.div(Pn||(Pn=Object(N.a)(["\n  position:absolute;\n  width:100%;\n  height:100%;\n  top:0rem;\n  background: url(",") no-repeat center;\n  background-position:center;\n  background-size:contain;\n"])),(function(n){return n.imageUrl}));function st(){var n=q(hn),t=W(),e=Object(D.useCallback)((function(){t(ln(-1))}),[t]);return n?Object(kn.jsxs)(it,{children:[Object(kn.jsx)(ct,{children:Object(kn.jsx)("p",{children:n.hintGiver.name})}),Object(kn.jsx)(ot,{children:Object(kn.jsx)(ut,{imageUrl:n.hintGiver.largeImage,title:n.hintGiver.name})}),Object(kn.jsx)(at,{children:Object(kn.jsx)("p",{children:n.text})}),Object(kn.jsx)(lt,{children:Object(kn.jsx)("button",{onClick:function(){return e()},children:"Close"})})]}):null}var dt,bt=_.c.div(tt||(tt=Object(N.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  bottom:0;\n  right:0;\n  background-color: ",";\n  color: ",";\n  overflow: hidden;\n\n  display:flex;\n  flex-direction:column;\n"])),F("black"),F("white")),mt=_.c.div(et||(et=Object(N.a)(["\n  flex: 0 0 10rem;\n"]))),ft=_.c.div(rt||(rt=Object(N.a)(["\n  flex: 1;\n"])));function ht(){var n=W();return Object(D.useEffect)((function(){n(an())}),[n]),Object(kn.jsxs)(bt,{children:[Object(kn.jsx)(st,{}),Object(kn.jsx)(mt,{children:Object(kn.jsx)(Ln,{})}),Object(kn.jsx)(ft,{children:Object(kn.jsx)(Nn,{})}),Object(kn.jsx)(nt,{})]})}var jt=_.c.div(dt||(dt=Object(N.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  right:0;\n  bottom:0;\n"])));var pt=function(){var n=[{route:"/",text:"Main",element:Object(kn.jsx)(ht,{})}];return Object(kn.jsx)(T.a,{children:Object(kn.jsx)(jt,{children:Object(kn.jsx)(V.c,{children:n.map((function(n,t){return Object(kn.jsx)(V.a,{path:n.route,element:n.element},t)}))})})})},gt=Object($.a)({reducer:{board:zn}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));e(35);E.a.render(Object(kn.jsx)(H.a.StrictMode,{children:Object(kn.jsxs)(L.a,{store:gt,children:[Object(kn.jsx)(pt,{}),Object(kn.jsx)(B,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.90c3a6ec.chunk.js.map