{"version":3,"sources":["themes/index.ts","app/data/data.tsx","utils/index.tsx","utils/puzzler.tsx","scenes/main/slice.tsx","app/hooks.ts","scenes/main/board.tsx","scenes/main/status.tsx","components/lilman.tsx","scenes/main/footer.tsx","scenes/main/hinttext.tsx","scenes/main/hint.tsx","components/button.tsx","scenes/modal/modals.tsx","scenes/modal/index.tsx","scenes/main/rulemaster.tsx","scenes/main/index.tsx","App.tsx","app/store.ts","serviceWorker.ts","index.tsx"],"names":["mixinFontFamily","style","css","createGlobalStyle","getColor","colorId","store","colors","brown_dark","brown","brown_light","black","grey","grey_light","white","pink_dark","pink","pink_light","red","green_dark","green","green_light","blue_dark","blue","blue_light","yellow","purple","shadows","z1","z2","z3","breakpoints","mobile_tiny","mobile_medium","mobile_large","tablet","desktop","SAMPLE_ROUNDDATA","title","description","attributes","id","type","values","aliases","descriptors","orderDescriptions","HINT_GIVERS","name","thumbImage","largeImage","imageType","bgImage","ssData","footer","startAt","endAt","fps","hint","spritesheetData","image","widthFrame","heightFrame","steps","bottomBoost","generatedGrids","getGridShape","size","gridShape","gsRow","gridRow","rowIdx","gsCol","push","generateGridShape","RandIdx","min","max","Math","floor","random","RandBetween","RandFromArray","array","length","getSortComparison","attrA","attrB","rcIdx","sortComparisons","value","generateHintText","sameGroup","solutionIdx","sortComparison","attributeIdx","prefix","attr","alias","getPrefix","suffix","descriptor","getSuffix","filterUsedHints","attrGroup","reservedAttr","filter","attrDetail","chooseAttribute","groupAttrDetails","influenceType","filteredAttributes","groupAttrs","find","attrDetails","influenceGroupIdx","group","console","log","generateSingleHint","text","used","convertSolutionsToAttributeDetails","solutions","rawSortComparisons","forEach","idx","getSortComparisons","map","solution","sIdx","sC","vIdx","aIdx","attribute","valueIdx","filterFromWorkingAttrs","solutionDetails","usedAttributes","usedAttr","getInfluenceType","curRatio","influenceCalc","ratioTotal","gridSlice","createSlice","initialState","roundData","cellMatrix","hints","activeHintIdx","gameStatus","roundIdx","gameReady","reducers","resetMatrix","state","action","payload","numAttributes","numValues","boxSize","pow","solutionSet","calcSolution","newMatrix","r","c","bi","attrPair","xVal","yVal","ansMatrix","isSolution","isCellSolution","attrs","status","hintGivers","maxHints","workingAttrs","yesNoRatio","i","hgIdx","error","generated","concat","hintGiverIdx","generateHints","rotateCell","nextStatus","getNextStatus","setActiveHint","submitAnswer","setGameStatus","startRound","getNextRoundIdx","restartRound","startNextRound","actions","answerSet","attrMatrix","a","numAnswers","availableAttributes","Array","from","keys","generatedAnswer","answerAttrs","randIdx","splice","cellObj","e","getCellMatrix","board","getHints","getGameStatus","getRoundIdx","getGameReady","renderHint","hintGiver","curIdx","selectRoundData","createSelector","selectHints","h","selectActiveHint","selectAttributes","selectGridInfo","gridSize","selectGridLabels","rowAttributes","colAttributes","rc","selectGridBox","row","rIdx","_","cIdx","boxArr","selectSolution","checkIfSolved","numExpected","cell","answeredCells","expectedCells","aC","useAppDispatch","useDispatch","useAppSelector","useSelector","StyledBoard","styled","div","StyledLeftLabels","StyledLeftLabel","p","StyledTopLabels","StyledTopLabel","StyledCells","StyledRawCellGroup","StyledCellGroup","cellRatio","StyledCell","BlankCellGroup","Board","dispatch","grid","gridLabels","gridInfo","onClickCell","useCallback","cellIdx","useMemo","round","grIdx","cellGroup","cgIdx","cgKey","boardCell","gridColumn","onClick","renderCellGroup","gl","glIdx","v","toUpperCase","StyledContainer","StyledStatusContainer","StyledStatus","StyledResetButton","StyledSolvedButton","StyledHelpButton","Status","solved","onSubmitGame","forceWin","StyledLilManGif","imageUrl","StyledLilManSpritesheet","LilMan","isTalking","ssOverride","undefined","direction","loop","backgroundPosition","StyledLilManContainer","getRandomPlacement","topRange","widthRange","leftRange","marginLeft","marginTop","width","Footer","onClickHint","hintIdx","HintText","hintText","useState","curText","setCurText","timerRef","useRef","useEffect","current","setTimeout","partial","slice","clearTimeout","StyledHintBox","StyledHintHeader","StyledControls","LovelyFeud","StyledBg","StyledImageContainer","Hint","onCloseHint","backgroundImage","ScButton","Button","StyledButtonContainer","WinModal","InvalidAnswerModal","SplashModal","StyledDebug","StyledInstructions","ul","HelpModal","renderedSolution","rS","join","Modal","modal","getModal","RuleMaster","StyledHeader","StyledBody","StyledTitle","Main","ScStage","App","routes","route","element","path","configureStore","reducer","boardReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.0ea8bafc.chunk.js","sourcesContent":["import { createGlobalStyle, css } from \"styled-components\"\r\n\r\ntype FontStyle = 'display' | 'speech';\r\nexport const mixinFontFamily = (style?: FontStyle) => {\r\n  switch(style){\r\n    case 'display' : return css`font-family: 'Noto Sans', sans-serif`;\r\n    case 'speech': return css`font-family: 'VT323', monospace`;\r\n    default: return css`font-family: 'VT323', monospace`;\r\n  }\r\n}\r\n\r\nexport default createGlobalStyle`\r\n  *{\r\n    margin: 0;\r\n    padding: 0;\r\n    outline:0;\r\n    box-sizing:border-box;\r\n\r\n    -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Edge, Opera and Firefox */\r\n  }\r\n  #root{\r\n    margin:0 auto;\r\n  }\r\n  h1, h2, h3, h4{\r\n    font-family: 'Noto Sans', sans-serif;\r\n  }\r\n  a, p, button, span, h5, h6{\r\n    ${mixinFontFamily()};\r\n  }\r\n  h1{\r\n    font-size: 5rem;\r\n  }\r\n  h2{\r\n    font-size: 4rem;\r\n  }\r\n  h3{\r\n    font-size: 3.5rem;\r\n  }\r\n  h4{\r\n    font-size: 2.5rem;\r\n  }\r\n  h5{\r\n    font-size: 2rem;\r\n  }\r\n  p, span{\r\n    font-size:2rem;\r\n  }\r\n\r\n  html{\r\n    font-size: 62.5%;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    ${mixinFontFamily()};\r\n    background-color: black;\r\n  }\r\n`\r\n\r\n\r\n\r\nexport const listColors = () => {\r\n  return Object.keys(store.colors);\r\n}\r\n\r\n\r\nexport const getColor = (colorId: tColor) => {\r\n  return store.colors[colorId] as CssString; \r\n}\r\n\r\nexport const getShadow = (shadowId: tShadow) => {\r\n  return store.shadows[shadowId] as CssString;\r\n}\r\n\r\nexport const getBreakpoint = (breakpointId: tBreakpoint) => {\r\n  return store.breakpoints[breakpointId] as CssString;\r\n}\r\n\r\ntype CssString = string;\r\n\r\ntype tShadow = 'z1' | 'z2' | 'z3';\r\nconst shadows = {\r\n  z1: '-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)',\r\n  z2: '-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)',\r\n  z3: '-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)'\r\n}\r\ntype tColor = 'brown_dark' | 'brown' | 'brown_light' | 'black' | 'grey' | 'grey_light' | 'white' | 'pink_dark' | 'pink' | 'pink_light' | 'red' | 'blue_dark' | 'blue' | 'blue_light' | 'green_dark' | 'green' | 'green_light' | 'yellow' | 'purple';\r\nconst colors = {\r\n  brown_dark: '#35120e',\r\n  brown: '#6b2b15',\r\n  brown_light: '#d48e55',\r\n  black: '#1a1932',\r\n  grey: '#424c6e',\r\n  grey_light: '#92a1b9',\r\n  white: '#e8c8a9',\r\n  pink_dark: '#bd1e7d',\r\n  pink: '#ff4785',\r\n  pink_light: '#ff8095',\r\n  red: '#b3102b',\r\n  green_dark: '#1e6f50',\r\n  green: '#5ac54f',\r\n  green_light: '#99e65f',\r\n  blue_dark: '#2a2f4e',\r\n  blue: '#0069aa',\r\n  blue_light: '#0098dc',\r\n  yellow: '#fff249',\r\n  purple: '#660e49',\r\n}\r\n\r\ntype tBreakpoint = 'mobile_tiny' | 'mobile_medium' | 'mobile_large' | 'tablet' | 'desktop';\r\nconst breakpoints = {\r\n  mobile_tiny: '300px',\r\n  mobile_medium: '400px',\r\n  mobile_large: '500px',\r\n  tablet: '768px',\r\n  desktop: '1024px'\r\n}\r\n\r\ntype ThemeStore = {\r\n  colors: typeof colors,\r\n  shadows: typeof shadows,\r\n  breakpoints: typeof breakpoints\r\n}\r\n\r\nexport const store: ThemeStore = {\r\n  colors: colors,\r\n  shadows: shadows,\r\n  breakpoints: breakpoints\r\n}\r\n","import { AnswerData, HintGiver, RawCell, RenderedAnswer, RoundData } from '../../types';\r\n\r\n/**\r\n * The attributes that defined the thingies this round\r\n */\r\nexport const SAMPLE_ROUNDDATA: RoundData[] = [\r\n  // 2x3\r\n  {\r\n    title: '2 attributes, 3 values',\r\n    description: 'this puzzle has 2 attributes with 3 values each',\r\n    attributes:[\r\n      {\r\n        id: 'animal',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'monkey',\r\n            aliases: [ 'swinging rat' ],\r\n            descriptors: [ 'has legs', 'rhymes with \"funky\"' ]\r\n          },\r\n          {\r\n            id: 'frog',\r\n            aliases: [ 'croaky boi' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'fish',\r\n            aliases: [ 'one with gills' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'occupation',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'firefighter',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'dentist',\r\n            aliases: [],\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'clown',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  // 2x4\r\n  {\r\n    title: '2 attributes, 4 values',\r\n    description: 'this puzzle has 2 attributes with 4 values each',\r\n    attributes:[\r\n      {\r\n        id: 'person',\r\n        type: 'name',\r\n        values: [\r\n          {\r\n            id: 'charlie',\r\n            aliases: [],\r\n            descriptors: ['has a beard']\r\n          },\r\n          {\r\n            id: 'mac',\r\n            aliases: [],\r\n            descriptors: ['has a beard']\r\n          },\r\n          {\r\n            id: 'dennis',\r\n            aliases: ['THE GOLDEN GOD'],\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'dee',\r\n            aliases: [],\r\n            descriptors: ['is a bird']\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'queue',\r\n        type: 'order',\r\n        orderDescriptions: [ 'showed up earlier than', 'showed up later than' ],\r\n        values: [\r\n          {\r\n            id: 'first',\r\n            aliases: [ 'first to arrive' ],\r\n            descriptors: [ 'first to arrive' ]\r\n          },\r\n          {\r\n            id: 'second',\r\n            aliases: [ 'second in line' ],\r\n            descriptors: [ 'second in line' ]\r\n          },\r\n          {\r\n            id: 'third',\r\n            aliases: [ 'second to last to show up' ],\r\n            descriptors: [ 'second to last to show up' ]\r\n          },\r\n          {\r\n            id: 'last',\r\n            aliases: [ 'last to show up' ],\r\n            descriptors: [ 'last to show up' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  // 3x3\r\n  {\r\n    title: '3 attributes, 3 values',\r\n    description: 'this puzzle has 3 attributes with 3 values each',\r\n    attributes:[\r\n      {\r\n        id: 'animal',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'monkey',\r\n            aliases: [ 'swinging rat' ], // ALIASES HAVE TO BE DISTINCT\r\n            descriptors: [ 'has legs', 'rhymes with \"funky\"' ] // DESCRIPTORS CAN BE SHARED FOR AN ATTRIBUTE\r\n          },\r\n          {\r\n            id: 'frog',\r\n            aliases: [ 'croaky boi' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'fish',\r\n            aliases: [ 'one with gills' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'queue',\r\n        type: 'order',\r\n        orderDescriptions: [ 'is earlier in line than', 'is later in line than' ],\r\n        values: [\r\n          {\r\n            id: 'first',\r\n            aliases: [ 'first to arrive' ],\r\n            descriptors: [ 'first to arrive' ]\r\n          },\r\n          {\r\n            id: 'second',\r\n            aliases: [ 'second in line' ],\r\n            descriptors: [ 'second in line' ]\r\n          },\r\n          {\r\n            id: 'last',\r\n            aliases: [ 'last to show up' ],\r\n            descriptors: [ 'last to show up' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'occupation',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'firefighter',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'dentist',\r\n            aliases: [],\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'clown',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  // 3x4\r\n  {\r\n    title: '3 attributes, 4 values',\r\n    description: 'this puzzle has 3 attributes with 4 values each',\r\n    attributes:[\r\n      {\r\n        id: 'animal',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'monkey',\r\n            aliases: [ 'swinging rat' ],\r\n            descriptors: [ 'has legs', 'rhymes with \"funky\"' ]\r\n          },\r\n          {\r\n            id: 'frog',\r\n            aliases: [ 'croaky boi' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'fish',\r\n            aliases: [ 'one with gills' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'crab',\r\n            aliases: [ 'pinchy boi' ],\r\n            descriptors: [ 'loves the water' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'queue',\r\n        type: 'order',\r\n        orderDescriptions: [ 'is earlier in line than', 'is later in line than' ],\r\n        values: [\r\n          {\r\n            id: 'first',\r\n            // the $\r\n            aliases: [ 'first to arrive' ],\r\n            // [is, is not] the $\r\n            descriptors: [ 'first to arrive' ]\r\n          },\r\n          {\r\n            id: 'second',\r\n            aliases: [],\r\n            descriptors: [ 'in the middle of the line' ]\r\n          },\r\n          {\r\n            id: 'third',\r\n            aliases: [],\r\n            descriptors: [ 'in the middle of the line' ]\r\n          },\r\n          {\r\n            id: 'last',\r\n            aliases: [ 'last to show up' ],\r\n            descriptors: [ 'last to show up' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'occupation',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'firefighter',\r\n            // the $\r\n            aliases: [],\r\n            // $ (only IS comparison) \r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'dentist',\r\n            aliases: [],\r\n            descriptors: [ 'makes a lot of money' ]\r\n          },\r\n          {\r\n            id: 'clown',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'lawyer',\r\n            aliases: [],\r\n            descriptors: [ 'makes a lot of money' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  // 4x3\r\n  {\r\n    title: '4 attributes, 3 values',\r\n    description: 'this puzzle has 4 attributes with 3 values each',\r\n    attributes:[\r\n      {\r\n        id: 'animal',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'monkey',\r\n            aliases: [ 'swinging rat' ], // ALIASES HAVE TO BE DISTINCT\r\n            descriptors: [ 'has legs', 'rhymes with \"funky\"' ] // DESCRIPTORS CAN BE SHARED FOR AN ATTRIBUTE\r\n          },\r\n          {\r\n            id: 'frog',\r\n            aliases: [ 'croaky boi' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'fish',\r\n            aliases: [ 'one with gills' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'queue',\r\n        type: 'order',\r\n        orderDescriptions: [ 'is earlier in line than', 'is later in line than' ],\r\n        values: [\r\n          {\r\n            id: 'first',\r\n            aliases: [ 'first to arrive' ],\r\n            descriptors: [ 'first to arrive' ]\r\n          },\r\n          {\r\n            id: 'second',\r\n            aliases: [ 'second in line' ],\r\n            descriptors: [ 'second in line' ]\r\n          },\r\n          {\r\n            id: 'last',\r\n            aliases: [ 'last to show up' ],\r\n            descriptors: [ 'last to show up' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'emotion',\r\n        type: 'modifier',\r\n        values: [\r\n          {\r\n            id: 'happy',\r\n            // the $ one\r\n            aliases: [],\r\n            // [is, is not] $\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'angry',\r\n            aliases: [ 'FUMING' ],\r\n            descriptors: [ 'really angry', 'having a bad time', 'screaming at everyone' ]\r\n          },\r\n          {\r\n            id: 'sad',\r\n            aliases: [ 'mopey' ],\r\n            descriptors: [ 'having a bad time' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'occupation',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'firefighter',\r\n            // the $\r\n            aliases: [],\r\n            // $ (only IS comparison) \r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'dentist',\r\n            aliases: [],\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'clown',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  // 4x4\r\n  {\r\n    title: '4 attributes, 4 values',\r\n    description: 'this puzzle has 4 attributes with 4 values each',\r\n    attributes:[\r\n      {\r\n        id: 'animal',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'monkey',\r\n            aliases: [ 'swinging rat' ],\r\n            descriptors: [ 'has legs', 'rhymes with \"funky\"' ]\r\n          },\r\n          {\r\n            id: 'frog',\r\n            aliases: [ 'croaky boi' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'fish',\r\n            aliases: [ 'one with gills' ],\r\n            descriptors: [ 'loves the water', 'eats flies' ]\r\n          },\r\n          {\r\n            id: 'crab',\r\n            aliases: [ 'pinchy boi' ],\r\n            descriptors: [ 'loves the water' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'queue',\r\n        type: 'order',\r\n        orderDescriptions: [ 'is earlier in line than', 'is later in line than' ],\r\n        values: [\r\n          {\r\n            id: 'first',\r\n            // the $\r\n            aliases: [ 'first to arrive' ],\r\n            // [is, is not] the $\r\n            descriptors: [ 'first to arrive' ]\r\n          },\r\n          {\r\n            id: 'second',\r\n            aliases: [],\r\n            descriptors: [ 'in the middle of the line' ]\r\n          },\r\n          {\r\n            id: 'third',\r\n            aliases: [],\r\n            descriptors: [ 'in the middle of the line' ]\r\n          },\r\n          {\r\n            id: 'last',\r\n            aliases: [ 'last to show up' ],\r\n            descriptors: [ 'last to show up' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'emotion',\r\n        type: 'modifier',\r\n        values: [\r\n          {\r\n            id: 'happy',\r\n            // the $ one\r\n            aliases: [],\r\n            // [is, is not] $\r\n            descriptors: []\r\n          },\r\n          {\r\n            id: 'angry',\r\n            aliases: [ 'FUMING' ],\r\n            descriptors: [ 'having a bad time', 'screaming at everyone' ]\r\n          },\r\n          {\r\n            id: 'sad',\r\n            aliases: [ 'mopey', 'pretty blue' ],\r\n            descriptors: [ 'having a bad time' ]\r\n          },\r\n          {\r\n            id: 'bored',\r\n            aliases: [],\r\n            descriptors: [ 'having a bad time', 'twiddling their thumbs' ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'occupation',\r\n        type: 'thing',\r\n        values: [\r\n          {\r\n            id: 'firefighter',\r\n            // the $\r\n            aliases: [],\r\n            // $ (only IS comparison) \r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'dentist',\r\n            aliases: [],\r\n            descriptors: [ 'makes a lot of money' ]\r\n          },\r\n          {\r\n            id: 'clown',\r\n            aliases: [],\r\n            descriptors: [ 'uses a trampoline' ]\r\n          },\r\n          {\r\n            id: 'lawyer',\r\n            aliases: [],\r\n            descriptors: [ 'makes a lot of money' ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport const HINT_GIVERS: HintGiver[] = [\r\n  {\r\n    id: 'fiveflys',\r\n    name: 'Fly Cook',\r\n    thumbImage: 'assets/hinters/fiveflys-static.gif',\r\n    largeImage: 'assets/hinters/fiveflys.gif',\r\n    // bgImage: 'assets/bg/bg-goobers.gif',\r\n  },\r\n  {\r\n    id: 'eyetower',\r\n    name: 'Eye Tower',\r\n    thumbImage: 'assets/hinters/eyetower-static.gif',\r\n    largeImage: 'assets/hinters/eyetower.gif',\r\n    // bgImage: 'assets/bg/bg-firespiral.gif',\r\n  },\r\n  {\r\n    id: 'businessbobcat',\r\n    name: 'Business Bobcat',\r\n    imageType: 'spritesheet',\r\n    thumbImage: 'assets/hinters/businesscat-static.gif',\r\n    largeImage: 'assets/hinters/businesscat.gif',\r\n    bgImage: 'assets/bg/bg-cheesewave.gif',\r\n    ssData:{\r\n      footer:{\r\n        startAt: 2,\r\n        endAt: 4,\r\n        fps: 1,\r\n      },\r\n      hint:{\r\n        startAt: 1,\r\n        endAt: 2,\r\n        fps: 4,\r\n      }\r\n    },\r\n    spritesheetData: {\r\n      image: 'assets/hinters/sprites/bobcat.png',\r\n      widthFrame: 400,\r\n      heightFrame: 600,\r\n      startAt: 1,\r\n      endAt: 4,\r\n      steps: 4,\r\n      fps: 5\r\n    }\r\n  },\r\n  {\r\n    id: 'fridgey',\r\n    name: 'Fridgey',\r\n    thumbImage: 'assets/hinters/fridgey-static.gif',\r\n    largeImage: 'assets/hinters/fridgey.gif',\r\n    // bgImage: 'assets/bg/bg-jt.gif',\r\n  },\r\n  {\r\n    id: 'mothman',\r\n    name: 'Mothman',\r\n    thumbImage: 'assets/hinters/mothman-static.gif',\r\n    largeImage: 'assets/hinters/mothman.gif',\r\n    // bgImage: 'assets/bg/bg-splat.gif',\r\n  },\r\n  {\r\n    id: 'raincat',\r\n    name: 'Rain Cat',\r\n    thumbImage: 'assets/hinters/raincat-static.gif',\r\n    largeImage: 'assets/hinters/raincat.gif',\r\n    bottomBoost: 10,\r\n  },\r\n  {\r\n    id: 'raccoon',\r\n    name: 'Raccoon',\r\n    imageType: 'spritesheet',\r\n    thumbImage: 'assets/hinters/sprites/raccoon.png',\r\n    largeImage: 'assets/hinters/sprites/raccoon.png',\r\n    ssData:{\r\n      footer:{\r\n        startAt: 13,\r\n        endAt: 14,\r\n        fps: 2,\r\n      },\r\n      hint:{\r\n        startAt: 15,\r\n        endAt: 16,\r\n      }\r\n    },\r\n    spritesheetData: {\r\n      image: 'assets/hinters/sprites/raccoon.png',\r\n      widthFrame: 56,\r\n      heightFrame: 56,\r\n      startAt: 15,\r\n      endAt: 16,\r\n      steps: 20,\r\n      fps: 5\r\n    }\r\n  }\r\n]\r\n\r\ntype GridShapeDef = {\r\n  [key: string]: RawCell[][]\r\n}\r\n\r\n\r\n/*\r\n  Making this stupid data structure that I wanna get rid of\r\n  its the row/column of each attribute\r\n  4 ->  [\r\n          [[0, 1], [ 0, 2 ], [ 0, 3 ]],\r\n          [[3, 1], [ 3, 2 ]],\r\n          [[2, 1]]\r\n        ],\r\n*/\r\nexport const generateGridShape = (size: number) => {\r\n  let gridShape = [];\r\n  for(let gsRow = 0; gsRow < size - 1; gsRow++){\r\n    let gridRow = [];\r\n    let rowIdx = gsRow === 0 ? 0 : size - gsRow;\r\n    for(let gsCol = 0; gsCol < size - 1 - gsRow; gsCol++){\r\n      gridRow.push([ rowIdx, gsCol + 1 ])\r\n    }\r\n    gridShape.push(gridRow);\r\n  }\r\n  return gridShape as RawCell[][];\r\n}\r\n\r\nconst generatedGrids: GridShapeDef = {};\r\nexport const getGridShape = (size:number)  => {\r\n  if(!generatedGrids[size]){\r\n    generatedGrids[size] = generateGridShape(size);\r\n  }\r\n  return generatedGrids[size];\r\n}\r\n\r\n// TODO, generate this\r\nexport const sampleAnswerData: AnswerData = [\r\n  [ 0, 0, 1, 0 ],\r\n  [ 2, 1, 2, 1 ],\r\n  [ 1, 2, 0, 2 ]\r\n]\r\n\r\n// TODO, generate this\r\nexport const RenderedAnswers: RenderedAnswer[] = [\r\n  {\r\n    attributes:[\r\n      ['animal', 'monkey'],\r\n      ['queue', 'first'],\r\n      ['emotion', 'angry'],\r\n      ['occupation', 'firefighter']\r\n    ]\r\n  },\r\n  {\r\n    attributes:[\r\n      ['animal', 'frog'],\r\n      ['queue', 'last'],\r\n      ['emotion', 'happy'],\r\n      ['occupation', 'clown']\r\n    ]\r\n  },\r\n  {\r\n    attributes:[\r\n      ['animal', 'fish'],\r\n      ['queue', 'second'],\r\n      ['emotion', 'sad'],\r\n      ['occupation', 'dentist']\r\n    ]\r\n  }\r\n]","export const RandIdx = (min:number, max:number) => {\r\n  return Math.floor(min + Math.random() * (max - min));\r\n}\r\n\r\nexport const RandBetween = (min:number, max:number) => {\r\n  return min + Math.random() * (max - min);\r\n}\r\n\r\nexport const RandFromArray = (array: any[]): any | null => {\r\n  if(array.length === 0) return null;\r\n  return array[Math.floor(Math.random() * array.length)]\r\n}\r\n\r\nexport const RandIdxFromArray = (array: any[]): number => {\r\n  if(array.length === 0) return -1;\r\n  return Math.floor(Math.random() * array.length)\r\n}","import { AnswerSet, AttributeDef, AttributeDetail, CalculatedHint, HintGiver, InfluenceRatio, InfluenceType, OrderDescription, RawRoundData, RoundData, SortComparison } from '../types';\r\nimport { RandFromArray, RandIdx, RandIdxFromArray } from './index';\r\n\r\n// what % of the time the same/different hint ratio is checked and attempted to be balanced;\r\nconst INFLUENCE_CALC = .75; // desired that 75% of the hints are for \"this IS that\" comparisons\r\nconst DESCRIPTOR_CHANCE = .4;\r\nconst PRUNE_RATE = .5; // what % of the time a used attribute is added to a block list\r\n\r\n  /*\r\n    when prefix, for alias \"swinging rat\"\r\n    The { alias } is not the first in line\r\n    The { alias } is angry\r\n    The { alias } is a monkey\r\n\r\n    when suffix, for descriptor \"has legs\"\r\n    The first in line { descriptor }\r\n    The angry one { descriptor }\r\n    The monkey { descriptor }\r\n\r\n    orderDescription \"is earlier in line than\"\r\n    orderDescription \"is later in line than\"\r\n    orderDescription \"was born before\"\r\n    orderDescription \"was born after\"\r\n    The {alias} {orderDescription} the one that {descriptor}\r\n  */\r\n\r\nexport const getPrefix = (attr: AttributeDetail) => {\r\n  const alias = RandFromArray(attr.aliases);\r\n\r\n  switch(attr.type){\r\n    case 'thing': {\r\n      if(alias) return `The ${alias}`;\r\n      return `The ${attr.value}`;\r\n    }\r\n    case 'name': {\r\n      if(alias) return `${alias}`;\r\n      return `${attr.value}`;\r\n    }\r\n    case 'modifier': {\r\n      if(alias) return `The ${alias} one`;\r\n      return `The ${attr.value} one`;\r\n    }\r\n    case 'order': {\r\n      if(alias) return `The ${alias}`;\r\n      return `The ${attr.value}`;\r\n    }\r\n    default: {\r\n      if(alias) return `The ${alias}`;\r\n      return `The ${attr.value}`;\r\n    }\r\n  }\r\n}\r\n\r\nexport const getSuffix = (attr: AttributeDetail, sameGroup: boolean, sortComparison: string | null) => {\r\n  const alias = RandFromArray(attr.aliases);\r\n  const descriptor = (Math.random() < DESCRIPTOR_CHANCE) ? null : RandFromArray(attr.descriptors);\r\n\r\n\r\n  switch(attr.type){\r\n    case 'thing': {\r\n      if(sortComparison) {\r\n        // 'THE_PREFIX {was born before} one that {has legs}'\r\n        if(descriptor) return`${sortComparison} one that ${descriptor}`;\r\n        // 'THE_PREFIX {was born before} the {monkey}'\r\n        return `${sortComparison} the ${attr.value}`;\r\n      } else if(descriptor && sameGroup){\r\n        // 'THE_PREFIX {has legs}'\r\n        return `${descriptor}`;\r\n      }\r\n      // 'THE_PREFIX {is:is not} a {monkey}'\r\n      return `${sameGroup ? 'is' : 'is not'} a ${attr.value}`;\r\n    }\r\n    case 'name': {\r\n      if(sortComparison) {\r\n        // 'THE_PREFIX {was born before} the {fat loser}'\r\n        if(descriptor) return`${sortComparison} the ${descriptor}`;\r\n        // 'THE_PREFIX {was born before} {Tom}'\r\n        return `${sortComparison} ${attr.value}`;\r\n      } else if(descriptor && sameGroup){\r\n        // 'THE_PREFIX {is a fat loser}'\r\n        return `${descriptor}`;\r\n      }\r\n      // 'THE_PREFIX {is:is not} {Tom}'\r\n      return `${sameGroup ? 'is' : 'is not'} ${attr.value}`;\r\n    }\r\n    case 'modifier': {\r\n      if(sortComparison) {\r\n        // 'THE_PREFIX {was born before} the {hot-headed} one'\r\n        if(alias) return`${sortComparison} the ${alias} one`;\r\n        // 'THE_PREFIX {was born before} the {angry} one'\r\n        return `${sortComparison} the ${attr.value} one`;\r\n      } else if(descriptor) {\r\n        // 'THE_PREFIX {is:is not} {having a bad time}'\r\n        return `${sameGroup ? 'is' : 'is not'} ${descriptor}`;\r\n      }\r\n      // 'THE_PREFIX {is:is not} {angry}'\r\n      return `${sameGroup ? 'is' : 'is not'} ${attr.value}`;\r\n    }\r\n    case 'order': {\r\n      // order will never have a sortComparison \r\n      if(descriptor) {\r\n        // 'THE_PREFIX {is:is not} the {first to arrive}'\r\n        return `${sameGroup ? 'is' : 'is not'} the ${descriptor}`;\r\n      }\r\n      // 'THE_PREFIX {is:is not} the {first}'\r\n      return `${sameGroup ? 'is' : 'is not'} the ${attr.value}`;\r\n    }\r\n    default: {\r\n      if(sortComparison) {\r\n        // 'THE_PREFIX {was born before} a {some kind of thing}'\r\n        if(descriptor) return `${sortComparison} a ${descriptor}`;\r\n        // 'THE_PREFIX {was born before} a {something}'\r\n        return `${sortComparison} a ${attr.value}`;\r\n      } else if(descriptor) {\r\n        // 'THE_PREFIX {is: is not} a {some kind of thing}'\r\n        return `${sameGroup ? 'is' : 'is not'} a ${descriptor}`;\r\n      }\r\n      // 'THE_PREFIX {is: is not} a {something}'\r\n      return `${sameGroup ? 'is' : 'is not'} a ${attr.value}`;\r\n    }\r\n  }\r\n}\r\n\r\n// TODO, reach back out to data, find queues from group, pick one, get back sort order between group A and B, get value\r\nexport const getSortComparison = (attrA: AttributeDetail, attrB: AttributeDetail) => {\r\n  // find sorty attribute from group A and group B\r\n  // return if A > B\r\n  \r\n  // pick rand sort in list (in case there are birthdays and a.. line or something)\r\n  const rcIdx = RandIdxFromArray(attrA.sortComparisons);\r\n  if(rcIdx > -1){\r\n    return attrA.sortComparisons[rcIdx].value < attrB.sortComparisons[rcIdx].value ? \r\n      attrA.sortComparisons[rcIdx].orderDescriptions[0]\r\n      : attrA.sortComparisons[rcIdx].orderDescriptions[1];\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport const generateHintText = (attrA: AttributeDetail, attrB: AttributeDetail) => {\r\n  const sameGroup = attrA.solutionIdx === attrB.solutionIdx;\r\n\r\n  let sortComparison = null;\r\n  if(!sameGroup && attrA.attributeIdx !== attrB.attributeIdx && attrA.type !== 'order' && attrB.type !== 'order'){\r\n    sortComparison = getSortComparison(attrA, attrB);\r\n  }\r\n\r\n  const prefix = getPrefix(attrA);\r\n  const suffix = getSuffix(attrB, sameGroup, sortComparison);\r\n\r\n  return `${prefix} ${suffix}.`;\r\n}\r\n\r\n// when checking the 2nd attribute in a hint pair, you dont want to choose THE SAME attr/value combo\r\n// that the 1st attribute had. This is not filtered out yet, so go ahead and give it a skip\r\nexport const filterUsedHints = (attrGroup: AttributeDetail[], reservedAttr?: AttributeDetail) => {\r\n  if(!reservedAttr) return attrGroup;\r\n\r\n  return attrGroup.filter(attrDetail => {\r\n    // exact same comparison\r\n    if(reservedAttr.id === attrDetail.id) {\r\n      return false; // dont want to end up with \"the animal:monkey is not the animal:monkey\"\r\n    }\r\n    // same attribute comparison\r\n    else if(reservedAttr.attributeIdx === attrDetail.attributeIdx) {\r\n      if(reservedAttr.type === 'order'){ // if they have same attrIdx, they have the same type.\r\n        return false; // dont want to end up with \"the first is before the last\"\r\n      }\r\n\r\n      // might want to experiment with keeping this, and later in the comparison stack, \r\n      // when attrA and attrB have same attribute, use \"order\" to make a unique clue?\r\n      // where you can say \"the monkey was born before the cat\"\r\n      return false; // dont want to end up with \"the animal:monkey is the animal:cat\".. or do you?\r\n    }\r\n    return true;\r\n  });\r\n}\r\n\r\n// this needs a refactor, but it more or less can try to get more hints with an \"IS\" comparison vs \"IS NOT\"\r\nexport const influenceGroupIdx = (groupAttrs: AttributeDetail[][], reservedAttr?: AttributeDetail, influenceType?: InfluenceType) => {\r\n  if(!reservedAttr || !influenceType) return null;\r\n\r\n  const sameGroup = groupAttrs.find(attrDetails => \r\n    !!attrDetails.find(attrDetail => {\r\n      if(influenceType === 'same') return attrDetail.solutionIdx === reservedAttr.solutionIdx\r\n      return attrDetail.solutionIdx !== reservedAttr.solutionIdx // only other influenceType at this point is 'different'\r\n    })\r\n  );\r\n\r\n  if(sameGroup){\r\n    const filteredAttributes = filterUsedHints(sameGroup, reservedAttr);\r\n    if(filteredAttributes.length > 0){\r\n      return filteredAttributes;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport const chooseAttribute = (groupAttrDetails: AttributeDetail[][], reservedAttr?: AttributeDetail, influenceType?: InfluenceType) => {\r\n  // get an influence attribute if needed\r\n  let filteredAttributes = influenceGroupIdx(groupAttrDetails, reservedAttr, influenceType);\r\n  // otherwise, go the normal route\r\n  if(!filteredAttributes){\r\n    const group_idx = RandIdx(0, groupAttrDetails.length);\r\n  \r\n    const group = groupAttrDetails[group_idx];\r\n  \r\n    // just in case this is groupB, you dont want to match on the same attr/value that groupA had\r\n    filteredAttributes = filterUsedHints(group, reservedAttr);\r\n    if (!filteredAttributes || filteredAttributes.length === 0){\r\n      console.log('ran out of valid hint material for group');\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  return filteredAttributes[RandIdx(0, filteredAttributes.length)];\r\n} \r\n\r\nexport const generateSingleHint = (groupAttrDetails: AttributeDetail[][], influenceType?: InfluenceType): CalculatedHint | null => {\r\n  const attrA = chooseAttribute(groupAttrDetails);\r\n  if(!attrA) return null;\r\n\r\n  const attrB = chooseAttribute(groupAttrDetails, attrA, influenceType);\r\n  if(!attrB) return null;\r\n\r\n  const hintText = generateHintText(attrA, attrB);\r\n\r\n  return {\r\n    text: hintText,\r\n    used: [ attrA, attrB ]\r\n  }\r\n}\r\n\r\nexport const getSortComparisons = (attributes: AttributeDef[]) => {\r\n  const sortComparisons: SortComparison[] = [];\r\n  attributes.forEach((attr, idx) => {\r\n    if(attr.type === 'order'){\r\n      sortComparisons.push({\r\n        attributeIdx: idx,\r\n        orderDescriptions: attr.orderDescriptions as OrderDescription,\r\n        value: -1 // to be filled in later\r\n      })\r\n    }\r\n  });\r\n  /*\r\n    [\r\n      {\r\n        attributeIdx: 1,\r\n        value: -1,\r\n        orderDescriptions: ['before this'], ['after this']\r\n      }\r\n    ]\r\n  */\r\n  return sortComparisons;\r\n}\r\n\r\nexport const convertSolutionsToAttributeDetails = (solutions: AnswerSet, attributes: AttributeDef[]) => {\r\n  const rawSortComparisons = getSortComparisons(attributes);\r\n\r\n  return solutions.map((solution, sIdx) => {\r\n    const sortComparisons = rawSortComparisons.map(sC => ({...sC, value: solution[sC.attributeIdx]}));\r\n\r\n    return solution.map((vIdx, aIdx) => ({\r\n      type: attributes[aIdx].type,\r\n      attribute: attributes[aIdx].id,\r\n      attributeIdx: aIdx,\r\n      value: attributes[aIdx].values[vIdx].id,\r\n      valueIdx: vIdx,\r\n      solutionIdx: sIdx,\r\n      aliases: attributes[aIdx].values[vIdx].aliases,\r\n      descriptors: attributes[aIdx].values[vIdx].descriptors,\r\n      sortComparisons: sortComparisons,\r\n      id: `${sIdx}-${aIdx}-${vIdx}`\r\n    }));\r\n  });\r\n}\r\n\r\nexport const filterFromWorkingAttrs = (solutionDetails: AttributeDetail[][], usedAttributes: AttributeDetail[]) => {\r\n  return solutionDetails.map(solution => \r\n    solution.filter(attrDetail => {\r\n      if(usedAttributes.find(usedAttr => usedAttr.id === attrDetail.id)){\r\n        return false;\r\n      }\r\n      return true;\r\n    })\r\n  ).filter(solution => solution.length > 0);\r\n}\r\n\r\nexport const getInfluenceType = (curRatio: InfluenceRatio, influenceCalc: number): InfluenceType => {\r\n  // why compare if you know the answer\r\n  if(influenceCalc === 1) return 'same';\r\n  if(influenceCalc === 0) return 'different';\r\n\r\n  const ratioTotal = curRatio[0] + curRatio[1];\r\n  const calcRatio = ratioTotal === 0 ? .5 : curRatio[0] / (ratioTotal); // avoid divide by zero\r\n  return influenceCalc >= calcRatio ? 'same' : 'different';\r\n}\r\n\r\nexport const generateHints = (solutions: AnswerSet, attributes: AttributeDef[], hintGivers: HintGiver[], maxHints: number = 0) => {\r\n  const attrDetails = convertSolutionsToAttributeDetails(solutions, attributes);\r\n  const hints = [];\r\n\r\n  let workingAttrs = [...attrDetails];\r\n\r\n  // prevents attribute/value pairs (as in \"the monkey\") from getting used more than once across the hints\r\n  let usedAttributes: AttributeDetail[] = [];\r\n  let yesNoRatio: InfluenceRatio = [0,0];\r\n\r\n  let i = 0;\r\n  let hgIdx = Math.floor(Math.random() * hintGivers.length);\r\n\r\n  while(hints.length < maxHints && workingAttrs.length > 0){\r\n    if(i > 20){\r\n      console.error('overflow in hint generation');\r\n      break;\r\n    }\r\n    i++;\r\n    \r\n    const influenceType = getInfluenceType(yesNoRatio, INFLUENCE_CALC);\r\n    const generated = generateSingleHint(workingAttrs, influenceType);\r\n    // sometimes when an attribute group is all used up, the loop ends early.\r\n    // This is actually kinda nice for helping randomize the yes/no count and hint giver a bit\r\n    if(!generated) continue;\r\n\r\n    if(generated.used[0].solutionIdx === generated.used[1].solutionIdx){\r\n      yesNoRatio[0]++;\r\n    }else{\r\n      yesNoRatio[1]++;\r\n    }\r\n\r\n    if(Math.random() < PRUNE_RATE){\r\n      usedAttributes = usedAttributes.concat(generated.used);\r\n      workingAttrs = filterFromWorkingAttrs(workingAttrs, usedAttributes);\r\n    }\r\n\r\n    hints.push({\r\n      hintGiverIdx: (hgIdx + i) % hintGivers.length,\r\n      text: generated.text\r\n    });\r\n\r\n  }\r\n\r\n  return hints;\r\n}\r\n\r\nexport const parseRoundData = (rawRoundData: RawRoundData): RoundData => {\r\n  return rawRoundData as RoundData;\r\n}\r\n","import { createSelector, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../../app/store';\r\nimport { AnswerSet, AttributeDef, AttributeMatrix, CellMatrix, CellObj, GameStatus, Hint, RenderedHint, RoundData } from '../../types';\r\nimport { getGridShape, SAMPLE_ROUNDDATA, HINT_GIVERS } from '../../app/data/data';\r\nimport { generateHints, parseRoundData } from '../../utils/puzzler';\r\n\r\nconst MAX_HINTS = 8;\r\n\r\nexport interface GridState {\r\n  roundData: RoundData | null,\r\n  cellMatrix: CellMatrix,\r\n  hints: Hint[],\r\n  activeHintIdx: number,\r\n  solution: AnswerSet | null,\r\n  gameStatus: GameStatus,\r\n  roundIdx: number,\r\n  gameReady: boolean\r\n}\r\n\r\nconst initialState: GridState = {\r\n  roundData: null,\r\n  cellMatrix: [],\r\n  hints: [],\r\n  activeHintIdx: -1,\r\n  solution: null,\r\n  gameStatus: 'start',\r\n  roundIdx: -1,\r\n  gameReady: false\r\n};\r\n\r\n\r\nexport const gridSlice = createSlice({\r\n  name: 'board',\r\n  initialState,\r\n  reducers: {\r\n    resetMatrix: (state: GridState, action: PayloadAction<RoundData>) => {\r\n      const roundData = action.payload;\r\n      if(roundData.attributes?.length > 0){\r\n        const numAttributes = roundData.attributes.length || 0;\r\n        const numValues = roundData.attributes[0].values.length;\r\n        const boxSize = Math.pow(numValues, 2);\r\n\r\n        if(numAttributes > 1 && numAttributes < 6){\r\n          const solutionSet = calcSolution(numValues, numAttributes);\r\n\r\n          const gridShape = getGridShape(numAttributes);\r\n          const newMatrix = [];\r\n\r\n          let idx = 0;\r\n          for(let r = 0; r < gridShape.length; r++){\r\n            for(let c = 0; c < gridShape[r].length; c ++){\r\n              for(let bi = 0; bi < boxSize; bi++){\r\n                // [ 0, 1 ] is comparing attr0 and attr1\r\n                const attrPair = gridShape[r][c];\r\n                const xVal = Math.floor((idx % boxSize) / numValues);\r\n                const yVal = idx % numValues;\r\n\r\n                const ansMatrix: AttributeMatrix = [ [ attrPair[0], xVal ], [attrPair[1], yVal ] ]\r\n                const isSolution = isCellSolution(solutionSet, ansMatrix)\r\n\r\n                newMatrix.push({\r\n                  idx: idx++,\r\n                  attrs: attrPair,\r\n                  isSolution: isSolution,\r\n                  status: 0\r\n                } as CellObj)\r\n              }\r\n            }\r\n          }\r\n          state.solution = solutionSet;\r\n          state.cellMatrix = newMatrix;\r\n          state.gameReady = true;\r\n          state.gameStatus = 'playing';\r\n          state.hints = generateHints(solutionSet, roundData.attributes, HINT_GIVERS, MAX_HINTS);\r\n        } else{\r\n          console.error('must have between 2 and 5 attributes');\r\n          state.cellMatrix = [];\r\n        }\r\n      } else {\r\n        state.cellMatrix = [];\r\n      }\r\n    },\r\n    rotateCell: (state, action: PayloadAction<number>) => {\r\n      if(state.cellMatrix){\r\n        const nextStatus = getNextStatus(state.cellMatrix[action.payload]);\r\n        state.cellMatrix[action.payload].status = nextStatus;\r\n      }\r\n    },\r\n    setActiveHint: (state, action: PayloadAction<number>) => {\r\n      if(action.payload > -1 && !state.hints[action.payload]) console.error(`cannot set invalid hint ${action.payload}`);\r\n      state.activeHintIdx = action.payload;\r\n    },\r\n    submitAnswer: (state, action: PayloadAction<boolean>) => {\r\n      console.log('submitAnswer', action.payload);\r\n      if(action.payload === true){\r\n        state.gameStatus = 'roundWin';\r\n      }else{\r\n        state.gameStatus = 'invalidAnswer';\r\n      }\r\n    },\r\n    setGameStatus: (state, action: PayloadAction<GameStatus>) => {\r\n      state.gameStatus = action.payload;\r\n    },\r\n    startRound: (state, action: PayloadAction<number>) => {\r\n      state.gameReady = false;\r\n      state.gameStatus = 'loading';\r\n      state.roundIdx = getNextRoundIdx(action.payload - 1);\r\n    },\r\n    restartRound: (state) => {\r\n      state.gameReady = false;\r\n      state.gameStatus = 'loading';\r\n      state.roundIdx = getNextRoundIdx(state.roundIdx - 1);\r\n    },\r\n    startNextRound: (state) => {\r\n      state.gameReady = false;\r\n      state.gameStatus = 'loading';\r\n      state.roundIdx = getNextRoundIdx(state.roundIdx);\r\n    },\r\n  } \r\n});\r\n\r\nexport const { resetMatrix, rotateCell, setActiveHint, submitAnswer, startRound, startNextRound, restartRound, setGameStatus } = gridSlice.actions;\r\n\r\n\r\n\r\n// answer set is the raw attributes (in order) and their values\r\n/// [1, 1, 1] would mean a valueIdx of 1 for attributes 0, 1, and 2\r\n\r\n// attrMatrix is a 2d array of attrIdx and numberIdx, so [[0,0],[2,0]] compares the 1st val of attr[0] with the 1st value of attr[2]\r\nexport const isCellSolution = (answerSet: AnswerSet, attrMatrix: AttributeMatrix) => {\r\n  for(let a = 0; a < answerSet.length; a++){\r\n    if(attrMatrix.filter(attrPair => answerSet[a][attrPair[0]] === attrPair[1]).length === 2) return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// make a unique combination of each attribute/value, with no overlaps.\r\n// This is the solution to the current truth table.\r\nconst calcSolution = (numAnswers: number, numAttributes:number): AnswerSet => {\r\n  const availableAttributes = [];\r\n  for(let i = 0; i < numAttributes; i++){\r\n    availableAttributes.push(Array.from(Array(numAnswers).keys()))\r\n  }\r\n\r\n  let generatedAnswer = [];\r\n  for(let i = 0; i < numAnswers; i++){\r\n    let answerAttrs = [];\r\n    for(let i = 0; i < availableAttributes.length; i++){\r\n      const randIdx = Math.floor(Math.random() * availableAttributes[i].length);\r\n      answerAttrs.push(availableAttributes[i][randIdx]);\r\n      availableAttributes[i].splice(randIdx, 1);\r\n    }\r\n    generatedAnswer.push(answerAttrs)\r\n  }\r\n\r\n  return generatedAnswer;\r\n}\r\n\r\n// blank > no > yes > maybe > blank\r\nconst getNextStatus = (cellObj: CellObj) => {\r\n  try{\r\n    switch(cellObj.status){\r\n      case 0: return 2;\r\n      case 2: return 1;\r\n      case 1: return 3;\r\n      case 3: return 0;\r\n    }\r\n  } catch(e){\r\n    console.error('unexpected lookup for cellObj', cellObj)\r\n  }\r\n\r\n  return 0;\r\n}\r\n\r\n\r\nexport const getCellMatrix = (state: RootState) => state.board.cellMatrix;\r\nexport const getRoundData = (state: RootState) => state.board.roundData;\r\nexport const getSolution = (state: RootState) => state.board.solution;\r\nexport const getHints = (state: RootState) => state.board.hints;\r\nexport const getActiveHintIdx = (state: RootState) => state.board.activeHintIdx;\r\nexport const getGameStatus = (state: RootState) => state.board.gameStatus;\r\nexport const getRoundIdx = (state: RootState) => state.board.roundIdx;\r\nexport const getGameReady = (state: RootState) => state.board.gameReady;\r\n\r\nexport const renderHint = (hint: Hint) => ({\r\n  hintGiver: HINT_GIVERS[hint.hintGiverIdx],\r\n  text: hint.text\r\n});\r\n\r\nexport const getNextRoundIdx = (curIdx: number) => {\r\n  if(curIdx + 1 < SAMPLE_ROUNDDATA.length){\r\n    return curIdx + 1;\r\n  }\r\n\r\n  // for now, just start over!\r\n  return 0;\r\n}\r\n\r\nexport const selectRoundData = createSelector(\r\n  [getRoundIdx],\r\n  (roundIdx): RoundData => {\r\n    return parseRoundData(SAMPLE_ROUNDDATA[roundIdx])\r\n  }\r\n)\r\n\r\nexport const selectHints = createSelector(\r\n  [getHints],\r\n  (hints): RenderedHint[] => hints.map(h => renderHint(h))\r\n);\r\n\r\nexport const selectActiveHint = createSelector(\r\n  [getHints, getActiveHintIdx],\r\n  (hints, activeHintIdx): RenderedHint | null => {\r\n    if(activeHintIdx === -1){\r\n      return null;\r\n    }\r\n\r\n    return renderHint(hints[activeHintIdx]);\r\n  }\r\n);\r\n\r\nexport const selectAttributes = createSelector(\r\n  [selectRoundData],\r\n  (roundData) => roundData.attributes\r\n);\r\n\r\nexport const selectGridInfo = createSelector(\r\n  [selectRoundData],\r\n  (roundData) => ({\r\n    numAttributes: roundData.attributes.length,\r\n    gridSize: roundData.attributes[0].values.length\r\n  })\r\n);\r\n\r\nexport const selectGridLabels = createSelector(\r\n  [selectAttributes],\r\n  (attributes): [ rows: AttributeDef[], cols: AttributeDef[] ] => {\r\n    const gridShape = getGridShape(attributes.length);\r\n    const rowAttributes = gridShape.map(r => r[0][0]);\r\n    const colAttributes = gridShape[0].map(rc => rc[1]);\r\n\r\n    return [\r\n      rowAttributes.map(idx => attributes[idx]),\r\n      colAttributes.map(idx => attributes[idx])\r\n    ]\r\n  }\r\n);\r\n\r\nexport const selectGridBox = createSelector(\r\n  [selectRoundData, getCellMatrix],\r\n  (roundData, cellMatrix) => {\r\n    const gridShape = getGridShape(roundData.attributes.length);\r\n    const numValues = roundData.attributes[0].values.length;\r\n    let idx = 0;\r\n    const gridSize = gridShape[0].length;\r\n\r\n    const boxSize = Math.pow(numValues, 2);\r\n    return gridShape?.map((row, rIdx) => {\r\n      return [...Array(gridSize)].map((_, cIdx) => {\r\n        let boxArr: CellObj[] = [];\r\n        if(!gridShape[rIdx][cIdx]){\r\n          // handles empty cells in larger maps\r\n          return boxArr;\r\n        }\r\n\r\n        for(let i = 0; i < boxSize; i++){\r\n          boxArr.push(\r\n            cellMatrix[idx++]\r\n          )\r\n        }\r\n        return boxArr;\r\n      })\r\n    })\r\n  }\r\n);\r\n\r\nexport const selectSolution = createSelector(\r\n  [getSolution, selectAttributes],\r\n  (solution, attributes) => solution?.map(solution => \r\n    solution.map((vIdx,sIdx) => \r\n      attributes[sIdx].values[vIdx].id\r\n    )\r\n  )\r\n);\r\n\r\n// if every \"solution\" cell has a 1 status, and there are not extra answers\r\nexport const checkIfSolved = createSelector(\r\n  [getCellMatrix],\r\n  (cellMatrix) => {\r\n    const numExpected = cellMatrix.filter(cell => cell.isSolution).length;\r\n    const answeredCells = cellMatrix.filter(cell => cell.status === 1);\r\n    if(answeredCells.length !== numExpected) return false;\r\n\r\n    const expectedCells = cellMatrix.filter(cell => cell.isSolution);\r\n    for(let i = 0; i < expectedCells.length; i++){\r\n      if(!answeredCells.find(aC => aC.idx === expectedCells[i].idx)){\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n);\r\n\r\nexport default gridSlice.reducer;","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport type { RootState, AppDispatch } from './store';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { useCallback, useMemo } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { getColor } from '../../themes';\r\nimport { CellObj, CellStatus, RawCell } from '../../types';\r\nimport { rotateCell, selectGridBox, selectGridLabels, selectGridInfo } from './slice';\r\n\r\nconst StyledBoard = styled.div`\r\n  position:absolute;\r\n  /* more perspectivey */\r\n  transform: matrix(2.5,1.25,-2.5,1.25,-300,-0) scale(.4) translate(-50%, -50%);\r\n  left: 50%;\r\n  top:50%;\r\n\r\n  display:grid;\r\n  grid-template-columns: 15rem 13rem 13rem 13rem; \r\n  grid-template-rows: 15rem 13rem 13rem 13rem; \r\n  column-gap: 2rem;\r\n  row-gap: 2rem;\r\n  color: ${getColor('brown')};\r\n\r\n  >div{\r\n    display:grid;\r\n    column-gap: 2rem;\r\n    row-gap: 2rem;\r\n  }\r\n`\r\n\r\nconst StyledLeftLabels = styled.div`\r\n  grid-column: 15rem;\r\n  grid-row: 2 / span 3;\r\n  \r\n  grid-template-columns: 15rem; \r\n  grid-template-rows: 13rem 13rem 13rem;\r\n`\r\n\r\ntype StyledLabelProps = {\r\n  gridSize: number\r\n}\r\nconst StyledLeftLabel = styled.div<StyledLabelProps>`\r\n  text-align:right;\r\n  ${p => p.gridSize === 4 ? css`\r\n    padding-top:0rem;\r\n    height: 25%;\r\n  `: css`\r\n    padding-top:1rem;\r\n    height: 33%;\r\n  `}\r\n\r\n  padding-right:1rem;\r\n  position:relative;\r\n  >span{\r\n    font-size: 3.5rem;\r\n    font-weight: 600;\r\n\r\n    position:absolute;\r\n    right:0;\r\n    white-space:nowrap;\r\n  }\r\n`\r\nconst StyledTopLabels = styled.div`\r\n  grid-column: 2 / span 3;\r\n  grid-row: 15rem;\r\n  \r\n  grid-template-columns: 13rem 13rem 13rem;\r\n  grid-template-rows: 15rem;\r\n`\r\nconst StyledTopLabel = styled.div<StyledLabelProps>`\r\n  display:inline-block;\r\n  ${p => p.gridSize === 4 ? css`\r\n    width: 25%;\r\n  `: css`\r\n    width: 33%;\r\n  `}\r\n  height: 100%;\r\n  position:relative;\r\n\r\n  span{\r\n    display:block;\r\n    position: absolute;\r\n\r\n    font-size: 3.5rem;\r\n    font-weight: 600;\r\n\r\n    ${p => p.gridSize === 4 ? css`\r\n      left: 1rem;\r\n    `: css`\r\n      left: 2rem;\r\n    `}\r\n    bottom: -1.5rem;\r\n    display: block;\r\n    white-space: nowrap;\r\n    transform-origin: left;\r\n    transform: rotate(-90deg);\r\n  }\r\n`\r\nconst StyledCells = styled.div`\r\n  grid-column: 2 / span 3;\r\n  grid-row: 2 / span 3;\r\n\r\n  grid-template-columns: 13rem 13rem 13rem;\r\n  grid-template-rows: 13rem 13rem 13rem;\r\n`\r\nconst StyledRawCellGroup = styled.div`\r\n  display:grid;\r\n  column-gap: .6rem;\r\n  row-gap: .6rem;\r\n`\r\ntype StyledCellGroupProps = {\r\n  gridSize: number,\r\n  cellRatio: string\r\n}\r\nconst StyledCellGroup = styled(StyledRawCellGroup)<StyledCellGroupProps>`\r\n  display:grid;\r\n  grid-template-columns: repeat(${p => p.gridSize}, ${p => p.cellRatio});\r\n  grid-template-rows: repeat(${p => p.gridSize}, ${p => p.cellRatio});\r\n  column-gap: .6rem;\r\n  row-gap: .6rem;\r\n\r\n  /* \r\n    grid-column: 1 i[ix]\r\n    grid-row: 2 i\r\n  */\r\n`\r\ntype StyledCellProps = {\r\n  status: CellStatus,\r\n  isSolution?: boolean\r\n}\r\nconst StyledCell = styled.div<StyledCellProps>`\r\n  border-radius: 1rem;\r\n  border: .4rem solid ${getColor('brown')};\r\n  cursor: pointer;\r\n  transition: background-color .1s, border-color .2s, box-shadow .15s, transform .15s;\r\n\r\n  ${p => p.status === 0 && css`\r\n    background-color:${getColor('brown')};\r\n    border-color: ${getColor('white')};\r\n    box-shadow: 0.4rem 0.4rem 0 0.1rem ${getColor('white')};\r\n  `};\r\n  ${p => p.status === 1 && css`\r\n    background-color:${getColor('green_dark')};\r\n    border-color: ${getColor('green')};\r\n    box-shadow: 0.4rem 0.4rem 0 0.1rem ${getColor('green')};\r\n  `};\r\n  ${p => p.status === 2 && css`\r\n    background-color:${getColor('pink_dark')};\r\n    border-color: ${getColor('pink')};\r\n    box-shadow: 0.4rem 0.4rem 0 0.1rem ${getColor('pink')};\r\n  `};\r\n  ${p => p.status === 3 && css`\r\n    background-color:${getColor('brown_light')};\r\n    border-color: ${getColor('yellow')};\r\n    box-shadow: 0.4rem 0.4rem 0 0.1rem ${getColor('yellow')};\r\n  `};\r\n\r\n  &:hover{\r\n    ${p => p.status === 0 && css`\r\n      border-color: ${getColor('pink')};\r\n    `};\r\n    ${p => p.status === 1 && css`\r\n      border-color: ${getColor('yellow')};\r\n    `};\r\n    ${p => p.status === 2 && css`\r\n      border-color: ${getColor('green')};\r\n    `};\r\n    ${p => p.status === 3 && css`\r\n      border-color: ${getColor('white')};\r\n    `};\r\n  }\r\n  \r\n  &:active{\r\n    transform: translate(.35rem, .35rem);\r\n\r\n    ${p => p.status === 0 && css`\r\n      background-color: ${getColor('pink_dark')};\r\n      border-color: ${getColor('pink')};\r\n      box-shadow: 0.1rem 0.1rem 0 0.1rem ${getColor('pink')};\r\n    `};\r\n    ${p => p.status === 1 && css`\r\n      background-color: ${getColor('brown')};\r\n      border-color: ${getColor('white')};\r\n      box-shadow: 0.1rem 0.1rem 0 0.1rem ${getColor('white')};\r\n    `};\r\n    ${p => p.status === 2 && css`\r\n      background-color: ${getColor('green_dark')};\r\n      border-color: ${getColor('green')};\r\n      box-shadow: 0.1rem 0.1rem 0 0.1rem ${getColor('green')};\r\n    `};\r\n  }\r\n`\r\nconst BlankCellGroup = styled(StyledRawCellGroup)`\r\n  background-color: ${getColor('white')};\r\n  opacity: .2;\r\n`\r\n\r\nexport function Board() {\r\n  const dispatch = useAppDispatch();\r\n  const grid = useAppSelector(selectGridBox);\r\n  const gridLabels = useAppSelector(selectGridLabels);\r\n  const gridInfo = useAppSelector(selectGridInfo);\r\n\r\n  const onClickCell = useCallback((cellIdx) => {\r\n    dispatch(rotateCell(cellIdx));\r\n  }, [ dispatch ]);\r\n\r\n  const cellRatio = useMemo(() => {\r\n    if(gridInfo.gridSize === 3) {\r\n      return '30%';\r\n    } else if(gridInfo.gridSize === 4) {\r\n      return '20%';\r\n    }\r\n    return `${Math.round(100 / gridInfo.gridSize)}%`;\r\n  }, [ gridInfo.gridSize ])\r\n\r\n\r\n  const renderCellGroup = (cellGroup: CellObj[], cgKey: string, gridSize: number, cellRatio: string, boardCell: RawCell) => {\r\n    // [0] check here cause this is all janky and the individual cells are undefined on load\r\n    if(cellGroup.length > 0 && cellGroup[0]){\r\n      return (\r\n        <StyledCellGroup \r\n          key={cgKey}\r\n          gridSize={gridSize}\r\n          cellRatio={cellRatio}\r\n          style={{gridRow: `${boardCell[0] + 1} / span 1`, gridColumn: `${boardCell[1] + 1} / span 1`}}\r\n        >\r\n          {cellGroup.map(cell => (\r\n            <StyledCell \r\n              key={`cell${cell?.idx}`}\r\n              status={cell.status}\r\n              isSolution={cell.isSolution}\r\n              onClick={() => onClickCell(cell.idx)}\r\n            />\r\n          ))}\r\n        </StyledCellGroup>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <BlankCellGroup \r\n        key={cgKey} \r\n        style={{gridRow: `${boardCell[0] + 1} / span 1`, gridColumn: `${boardCell[1] + 1} / span 1`}}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <StyledBoard>\r\n      <StyledCells>\r\n        {grid.map((gridRow, grIdx) => (\r\n          gridRow.map((cellGroup, cgIdx) => renderCellGroup(cellGroup, `cg${cgIdx}`, gridInfo.gridSize, cellRatio, [grIdx, cgIdx])\r\n        )))}\r\n      </StyledCells>\r\n      <StyledTopLabels>\r\n        {gridLabels[1].map((gl, glIdx) => (\r\n          <div key={`tl${glIdx}`}>\r\n            {gl.values.map((v,vIdx) => (\r\n              <StyledTopLabel key={`tv${vIdx}`} gridSize={gridInfo.gridSize}>\r\n                <span>{v.id.toUpperCase()}</span>\r\n              </StyledTopLabel>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </StyledTopLabels>\r\n      <StyledLeftLabels>\r\n        {gridLabels[0].map((gl, glIdx) => (\r\n          <div key={`ll${glIdx}`}>\r\n            {gl.values.map((v,vIdx) => (\r\n              <StyledLeftLabel key={`lv${vIdx}`} gridSize={gridInfo.gridSize}>\r\n                <span>{v.id.toUpperCase()}</span>\r\n              </StyledLeftLabel>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </StyledLeftLabels>\r\n    </StyledBoard>\r\n  );\r\n}\r\n","import { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { getColor } from '../../themes';\r\nimport { checkIfSolved, getRoundIdx, setGameStatus, submitAnswer } from './slice';\r\n\r\nconst StyledContainer = styled.div`\r\n  margin-left:2rem;\r\n`;\r\n\r\nconst StyledStatusContainer = styled.div`\r\n  position:absolute;\r\n  right:0;\r\n  top:0;\r\n  color: ${getColor('brown_dark')};\r\n  text-align:center;\r\n`;\r\n\r\nconst StyledStatus = styled.div`\r\n  border: .3rem solid ${getColor('brown_dark')};\r\n  box-shadow: 0.0rem 0.4rem 0.1rem 0.1rem ${getColor('brown')};\r\n  border-radius: 1.5rem;\r\n  margin: .75rem;\r\n\r\n  padding: .5rem 1rem;\r\n\r\n  font-weight:500;\r\n  font-size:2rem;\r\n\r\n  cursor: pointer;\r\n  \r\n  &:active{\r\n    color: ${getColor('yellow')};\r\n    transform: translateY(.5rem);\r\n    box-shadow: 0.0rem 0.0rem 0.0rem 0.0rem ${getColor('brown')};\r\n  }\r\n`;\r\n\r\nconst StyledResetButton = styled(StyledStatus)`\r\n  background-color: ${getColor('pink')};  \r\n  color: ${getColor('brown_dark')};\r\n  border-color: ${getColor('brown_dark')};\r\n  box-shadow: 0.0rem 0.4rem 0.1rem 0.1rem ${getColor('brown')};\r\n  \r\n  &:hover{\r\n    color: ${getColor('yellow')};\r\n  }\r\n`\r\n\r\nconst StyledSolvedButton = styled(StyledStatus)`\r\n  background-color: ${getColor('green')};  \r\n  \r\n  &:hover{\r\n    color: ${getColor('yellow')};\r\n  }\r\n`;\r\n\r\nconst StyledHelpButton = styled(StyledStatus)`\r\n  background-color: ${getColor('yellow')};  \r\n  color: ${getColor('brown_dark')};\r\n  border-color: ${getColor('brown_dark')};\r\n  box-shadow: 0.0rem 0.4rem 0.1rem 0.1rem ${getColor('brown')};\r\n  \r\n  &:hover{\r\n    background-color: ${getColor('green_light')};\r\n  }\r\n`;\r\n\r\nexport function Status() {\r\n  const solved = useAppSelector(checkIfSolved);\r\n  const roundIdx = useAppSelector(getRoundIdx);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const onSubmitGame = useCallback((solved:boolean, forceWin?: boolean) => {\r\n    dispatch(submitAnswer(forceWin || solved));\r\n  }, [ dispatch ]);\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <StyledStatusContainer>\r\n        <p>{`Level ${roundIdx + 1}`}</p>\r\n        <StyledSolvedButton onClick={() => onSubmitGame(solved)}>{'SUBMIT'}</StyledSolvedButton>\r\n        <StyledResetButton onClick={() => onSubmitGame(solved, true)}>{'CHEAT!'}</StyledResetButton>\r\n        <StyledHelpButton onClick={() => dispatch(setGameStatus('help'))}>{'HELP?'}</StyledHelpButton>\r\n      </StyledStatusContainer>\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { HintGiver, SpritesheetData, SpritesheetOverride } from '../types';\r\nimport Spritesheet from 'react-responsive-spritesheet';\r\nimport { getColor } from '../themes';\r\n\r\nexport const ScButton = styled.div`\r\n  padding: 2rem;\r\n`;\r\n\r\ninterface StyledLilManProps {\r\n  imageUrl: string\r\n};\r\n\r\nexport const StyledLilManGif = styled.div<StyledLilManProps>`\r\n  position:absolute;\r\n  width:100%;\r\n  height:calc(100% + 2rem);\r\n  bottom:-2rem;\r\n  background: url(${p => p.imageUrl}) no-repeat center;\r\n  background-position:center;\r\n  background-size:contain;\r\n  filter: drop-shadow(0 0 7rem ${getColor('brown')});\r\n`;\r\n\r\nexport const StyledLilManSpritesheet = styled.div`\r\n  position:absolute;\r\n  width:100%;\r\n  height:100%;\r\n`;\r\n\r\ninterface LilManProps {\r\n  hintGiver: HintGiver,\r\n  onClick?: Function,\r\n  ssOverride?: SpritesheetOverride,\r\n  isTalking?: boolean,\r\n}\r\n\r\nexport function LilMan({hintGiver, onClick, isTalking = false, ssOverride = {} as SpritesheetData}: LilManProps) {\r\n  if(hintGiver.imageType === 'spritesheet'){\r\n    if(!hintGiver || !hintGiver.spritesheetData) return null;\r\n\r\n    return (\r\n      <StyledLilManSpritesheet>\r\n        <Spritesheet\r\n          image={hintGiver.spritesheetData.image}\r\n          widthFrame={hintGiver.spritesheetData.widthFrame}\r\n          heightFrame={hintGiver.spritesheetData.heightFrame}\r\n          startAt={ssOverride.startAt !== undefined ? ssOverride.startAt : hintGiver.spritesheetData.startAt}\r\n          endAt={ssOverride.endAt !== undefined ? ssOverride.endAt : hintGiver.spritesheetData.endAt}\r\n          fps={ssOverride.fps !== undefined ? ssOverride.fps : hintGiver.spritesheetData.fps}\r\n          steps={hintGiver.spritesheetData.steps}\r\n          direction={'forward'}\r\n          loop={true}\r\n          backgroundPosition={'center bottom'}\r\n          onClick={(e) => onClick && onClick(e)}\r\n        />\r\n      </StyledLilManSpritesheet>\r\n    )\r\n  } else{\r\n    return (\r\n      <StyledLilManGif\r\n        imageUrl={isTalking ? hintGiver.largeImage : hintGiver.thumbImage}\r\n        onClick={(e) => onClick && onClick(e)}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { RandBetween } from '../../utils';\r\nimport { selectHints, setActiveHint } from './slice';\r\nimport { LilMan, StyledLilManGif, StyledLilManSpritesheet } from '../../components/lilman';\r\n\r\nconst StyledContainer = styled.div`\r\n  height:5rem;\r\n  padding-left:2rem;\r\n\r\n  h4{\r\n    padding-top:1rem;\r\n  }\r\n  ul{\r\n    padding-left:10rem;\r\n    height:100%;\r\n  }\r\n`;\r\n\r\nconst StyledLilManContainer = styled.div`\r\n  display:inline-block;\r\n  min-width: 20rem;\r\n  height:100%;\r\n  vertical-align:top;\r\n  position: relative;\r\n\r\n  >${StyledLilManGif}{\r\n    height: 30rem;\r\n    left:50%;\r\n    transform: translateX(-50%);\r\n    background-position:bottom;\r\n    background-size:contain;\r\n    cursor: pointer;\r\n    &:hover{\r\n      bottom:0rem;\r\n      width:130%;\r\n      transition: bottom .2s ease-out, width .4s;\r\n      filter: drop-shadow(0 0 .5rem #ffffff);\r\n    }\r\n  }\r\n  >${StyledLilManSpritesheet}{\r\n    position:absolute;\r\n    width:100%;\r\n    top:-12rem;\r\n    &:hover{\r\n      top:-18rem;\r\n      width:130%;\r\n      transition: top .2s ease-out, width .4s;\r\n      filter: drop-shadow(0 0 .5rem #ffffff);\r\n    }\r\n  }\r\n  transition: top .2s ease-out, width .4s;\r\n`;\r\n\r\nconst getRandomPlacement = (idx: number, topRange: number[], widthRange: number[], leftRange: number[]) => {\r\n  return {\r\n    marginLeft: idx === 0 ? `-10rem` : `${RandBetween(leftRange[0], leftRange[1])}rem`,\r\n    marginTop: `${RandBetween(topRange[0], topRange[1])}rem`,\r\n    width: `${RandBetween(widthRange[0], widthRange[1])}px`\r\n  }\r\n}\r\n\r\nexport function Footer() {\r\n  const hints = useAppSelector(selectHints);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const onClickHint = useCallback((hintIdx) => {\r\n    dispatch(setActiveHint(hintIdx));\r\n  }, [ dispatch ]);\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <ul>\r\n        {hints?.map((hint, idx) => (\r\n          <StyledLilManContainer key={idx} style={getRandomPlacement(idx, [-1, 3], [120, 170], [-7, -2])} >\r\n            <LilMan\r\n              isTalking={false}\r\n              hintGiver={hint.hintGiver}\r\n              ssOverride={hint.hintGiver.ssData?.footer}\r\n              onClick={() => onClickHint(idx)}\r\n            /> \r\n          </StyledLilManContainer>\r\n        ))}\r\n      </ul>\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\ntype HintTextProps = {\r\n  hintText: string\r\n}\r\nexport function HintText({ hintText }: HintTextProps) {\r\n  const [ curText, setCurText ] = useState('');\r\n  const timerRef: any = useRef();\r\n\r\n  const getNextText = (partial: string, full: string) => {\r\n    return full.slice(0, partial.length + 1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(curText.length < hintText.length){\r\n      timerRef.current = setTimeout(() => {\r\n        setCurText(getNextText(curText, hintText));\r\n      }, 50);\r\n    }\r\n  }, [ curText, hintText, timerRef ])\r\n\r\n  useEffect(() => {\r\n    setCurText('');\r\n\r\n    return () => {\r\n      clearTimeout(timerRef.current);\r\n    }\r\n  }, []);\r\n  \r\n  return (\r\n    <p>{curText}</p>\r\n  );\r\n}\r\n","import { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { getColor, mixinFontFamily } from '../../themes';\r\nimport { HintText } from './hinttext';\r\nimport { selectActiveHint, setActiveHint } from './slice';\r\nimport { LilMan } from '../../components/lilman';\r\n\r\nconst StyledContainer = styled.div`\r\n  position: fixed;\r\n  z-index: 1;\r\n  left: 10%;\r\n  right: 10%;\r\n  height: 50%;\r\n  min-height: 40rem;\r\n  top: 20%;\r\n  padding: 2rem;\r\n\r\n  display: grid;\r\n  grid-template-columns: 25% 75%;\r\n  grid-template-rows: 3rem 2rem auto 10rem;\r\n`;\r\n\r\nconst StyledLilManContainer = styled.div`\r\n  grid-column: 1 / span 1;\r\n  grid-row: 2 / span 2;\r\n  position: relative;\r\n`;\r\n\r\nconst StyledHintBox = styled.div`\r\n  grid-column: 2 / span 1;\r\n  grid-row: 3 / span 1;\r\n  padding: 2rem;\r\n\r\n  p {\r\n    ${mixinFontFamily('speech')};\r\n    font-size: 5rem;\r\n  }\r\n`;\r\n\r\nconst StyledHintHeader = styled.div`\r\n  grid-column: 1 / span 2;\r\n  grid-row: 1 / span 2;\r\n\r\n  text-align: left;\r\n  font-size: 3rem;\r\n  margin-top: -2rem;\r\n\r\n  > * {\r\n    font-size: 8rem;\r\n    color: ${getColor('black')};\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst StyledControls = styled.div`\r\n  grid-column: 1 / span 3;\r\n  grid-row: 4 / span 1;\r\n  padding: 0rem;\r\n  z-index: 1;\r\n\r\n  button {\r\n    border-radius: 1rem;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: ${getColor('brown_light')};\r\n    color: ${getColor('brown_dark')};\r\n    border: 0.5rem solid ${getColor('brown_dark')};\r\n\r\n    font-size: 5rem;\r\n\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: ${getColor('brown')};\r\n      border-color: ${getColor('brown')};\r\n    }\r\n  }\r\n`;\r\n\r\nconst LovelyFeud = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -2;\r\n\r\n  background-image: linear-gradient(\r\n    to bottom,\r\n    rgba(255, 0, 0, 0),\r\n    rgba(0, 0, 0, 1)\r\n  );\r\n`;\r\n\r\nconst StyledBg = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -1;\r\n\r\n  border-radius: 1rem;\r\n  background-color: ${getColor('white')};\r\n  border: 0.5rem solid ${getColor('brown_dark')};\r\n`;\r\n\r\nconst StyledImageContainer = styled.div`\r\n  position: absolute;\r\n  left: -2rem;\r\n  right: -2rem;\r\n  top: -2rem;\r\n  bottom: -2rem;\r\n  z-index: -1;\r\n\r\n  overflow:hidden;\r\n\r\n  border-radius: 3rem;\r\n  border: 1.5rem solid ${getColor('white')};\r\n\r\n  >div:nth-child(1){\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n\r\n    background-size: 200px;\r\n    filter: blur(5px);\r\n    opacity:.5;\r\n  }\r\n\r\n  >div:nth-child(2){\r\n    width:100%;\r\n    height:100%;\r\n    background-color:white;\r\n    z-index: -1;\r\n  }\r\n`;\r\n\r\n\r\n\r\nexport function Hint() {\r\n  const hint = useAppSelector(selectActiveHint);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const onCloseHint = useCallback(() => {\r\n    dispatch(setActiveHint(-1));\r\n  }, [dispatch]);\r\n\r\n  if (!hint) return null;\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <StyledHintHeader>\r\n        <p>{hint.hintGiver.name}</p>\r\n      </StyledHintHeader>\r\n      <StyledLilManContainer title={hint.text}>\r\n        <LilMan\r\n          isTalking={true}\r\n          hintGiver={hint.hintGiver}\r\n          ssOverride={hint.hintGiver.ssData?.hint}\r\n        />\r\n      </StyledLilManContainer>\r\n      <StyledHintBox>\r\n        <HintText hintText={hint.text} />\r\n      </StyledHintBox>\r\n      <StyledControls>\r\n        <button onClick={() => onCloseHint()}>{'CLOSE'}</button>\r\n      </StyledControls>\r\n      {hint.hintGiver.bgImage ? (\r\n        <StyledImageContainer>\r\n          <div style={{ backgroundImage: `url(${hint.hintGiver.bgImage})` }} />\r\n          <div></div>\r\n        </StyledImageContainer>\r\n      ) : (\r\n        <StyledBg />\r\n      )}\r\n      <LovelyFeud />\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { MouseEventHandler } from 'hoist-non-react-statics/node_modules/@types/react';\r\nimport { getColor } from '../themes';\r\n\r\nexport const ScButton = styled.div`\r\n  /* display: inline-block; */\r\n  cursor: pointer;\r\n\r\n  >div{\r\n    padding: 0.5rem 1rem;\r\n    /* display: inline-block; */\r\n    border-radius: .5rem;\r\n    color: .5rem solid ${getColor('brown_dark')};\r\n    border: .5rem solid ${getColor('brown_dark')};\r\n    background-color: ${getColor('brown_light')};\r\n      transition: background-color .5s;\r\n\r\n    &:hover {\r\n      background-color: ${getColor('pink')};\r\n      transition: background-color .5s;\r\n    }\r\n  }\r\n`;\r\n\r\ninterface LBType {\r\n  onClick: MouseEventHandler,\r\n  text: string\r\n}\r\n\r\nexport function Button({ onClick, text }: LBType) {\r\n  return (\r\n    <ScButton onClick={onClick}><div><span>{text}</span></div></ScButton>\r\n  )\r\n}\r\n","import styled from 'styled-components';\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\r\nimport { Button } from '../../components/button';\r\n// import { getColor } from '../../../themes';\r\nimport { restartRound, selectSolution, setGameStatus, startNextRound, startRound } from '../main/slice';\r\n\r\nconst StyledButtonContainer = styled.div`\r\n  \r\n`;\r\n\r\nconst StyledContainer = styled.div`\r\n  position:absolute;\r\n  left:0;\r\n  top:0;\r\n  right:0;\r\n  bottom:0;\r\n  padding:3rem;\r\n\r\n  text-align:center;\r\n\r\n  ${StyledButtonContainer}{\r\n    position:absolute;\r\n    bottom: 1rem;\r\n    left:10%;\r\n    right:10%;\r\n  }\r\n`;\r\n\r\nexport function WinModal() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <h1>{'YOU WIN!'}</h1>\r\n      <StyledButtonContainer>\r\n        <Button text={'OK'} onClick={() => dispatch(startNextRound())} />\r\n      </StyledButtonContainer>\r\n    </StyledContainer>\r\n  );\r\n}\r\n\r\nexport function InvalidAnswerModal() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <h1>{'Sorry,that\\'s not quite right'}</h1>\r\n      <StyledButtonContainer>\r\n        <Button text={'Keep Trying'} onClick={() => dispatch(setGameStatus('playing'))} />\r\n        <Button text={'RESTART!'} onClick={() => dispatch(restartRound())} />\r\n        <Button text={'SKIP!'} onClick={() => dispatch(startNextRound())} />\r\n      </StyledButtonContainer>\r\n    </StyledContainer>\r\n  );\r\n}\r\n\r\nexport function SplashModal() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <h1>{'TOOTH TABLES'}</h1>\r\n      <h3>{'Some kinda puzzle game'}</h3>\r\n      <StyledButtonContainer>\r\n        <Button text={'OK'} onClick={() => dispatch(startRound(0))} />\r\n      </StyledButtonContainer>\r\n    </StyledContainer>\r\n  );\r\n}\r\n\r\nconst StyledDebug = styled.div`\r\n  margin: 2rem;\r\n\r\n  li{\r\n    list-style:none;\r\n  }\r\n`\r\n\r\nconst StyledInstructions = styled.ul`\r\n  text-align:left;\r\n`;\r\n\r\nexport function HelpModal() {\r\n  const dispatch = useAppDispatch();\r\n  const renderedSolution = useAppSelector(selectSolution);\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <h1>{'HELP!'}</h1>\r\n      \r\n      <StyledInstructions>\r\n        <li><p>{'Click the characters at the bottom of the screen to reveal clues about the puzzle'}</p></li>\r\n        <li><p>{'Click the grid cells to cycle between RED (no), GREEN (yes) and YELLOW (maybe?)'}</p></li>\r\n        <li><p>{'After selecting all of the correct GREEN tiles, click SUBMIT to see if you have the answer correct'}</p></li>\r\n        <li><p>{'The RED and YELLOW tiles do not have to be filled in to have a correct answer, they\\'re there to help you rule out information'}</p></li>\r\n        <li><p>{'Each attribute combination can only be used once'}</p></li>\r\n        <li><p>{'You may have to iterate through the clues multiple times to arrive at an answer'}</p></li>\r\n      </StyledInstructions>\r\n      \r\n      <StyledDebug>\r\n        <p>{'DEBUG SOLUTION'}</p>\r\n        <ul>\r\n          {renderedSolution?.map((rS, idx) => (\r\n            <li key={idx}><span>{`${rS.join(' | ')}`}</span></li>\r\n          ))}\r\n        </ul>\r\n      </StyledDebug>\r\n      <StyledButtonContainer>\r\n        <Button text={'OK'} onClick={() => dispatch(setGameStatus('playing'))} />\r\n      </StyledButtonContainer>\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useAppSelector } from '../../app/hooks';\r\nimport { getColor } from '../../themes';\r\nimport { GameStatus } from '../../types';\r\nimport { getGameStatus } from '../main/slice';\r\nimport { HelpModal, SplashModal, WinModal, InvalidAnswerModal } from './modals';\r\n\r\nconst StyledContainer = styled.div`\r\n  position:fixed;\r\n  left:10%;\r\n  top:10%;\r\n  width:80%;\r\n  height:80%;\r\n  border-radius:1rem;\r\n\r\n  background-color: ${getColor('brown_light')};\r\n  color: ${getColor('brown_dark')};\r\n  border: 0.5rem solid ${getColor('brown_dark')};\r\n\r\n  z-index:1;\r\n  padding: 1rem;\r\n`;\r\n\r\nexport const getModal = (gameStatus: GameStatus) => {\r\n  switch(gameStatus){\r\n    case 'start': return <SplashModal />\r\n    case 'roundWin': return <WinModal />\r\n    case 'invalidAnswer': return <InvalidAnswerModal />\r\n    case 'help': return <HelpModal />\r\n    default: return null;\r\n  }\r\n}\r\n\r\nexport function Modal() {\r\n  const gameStatus = useAppSelector(getGameStatus);\r\n  const modal = getModal(gameStatus);\r\n  if(!modal) return null;\r\n\r\n  return (\r\n    <StyledContainer>\r\n      {modal}\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import { useAppDispatch } from '../../app/hooks';\r\nimport { getGameStatus, resetMatrix, selectRoundData } from './slice';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport function RuleMaster() {\r\n  const dispatch = useAppDispatch();\r\n  const roundData = useSelector(selectRoundData);\r\n  const gameStatus = useSelector(getGameStatus);\r\n\r\n  // eventually, should move this logic into the slice somehow\r\n  useEffect(() => {\r\n    if(roundData && gameStatus === 'loading') {\r\n      dispatch(resetMatrix(roundData));\r\n    }\r\n  }, [dispatch, roundData, gameStatus]);\r\n\r\n  return null;\r\n}\r\n","import styled from 'styled-components';\r\nimport { getColor } from '../../themes';\r\nimport { getGameReady } from './slice';\r\nimport { Board } from './board';\r\nimport { Status } from './status';\r\nimport { Footer } from './footer';\r\nimport { Hint } from './hint';\r\nimport { Modal } from '../modal';\r\nimport { useSelector } from 'react-redux';\r\nimport { RuleMaster } from './rulemaster';\r\n\r\nconst StyledContainer = styled.div`\r\n  position:absolute;\r\n  left:0;\r\n  top:0;\r\n  bottom:0;\r\n  right:0;\r\n  background-image: linear-gradient(to bottom, ${getColor('white')}, ${getColor('brown')});\r\n  color: ${getColor('black')};\r\n  overflow: hidden;\r\n\r\n  display:flex;\r\n  flex-direction:column;\r\n`;\r\n\r\nconst StyledHeader = styled.div`\r\n  flex: 0 0 10rem;\r\n`;\r\n\r\nconst StyledBody = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst StyledTitle = styled.div`\r\n  position:absolute;\r\n  left:0;\r\n  right:0;\r\n  text-align:center;\r\n  color: ${getColor('pink')};\r\n  font-size: 15rem;\r\n  letter-spacing: -.5rem;\r\n  line-height: 10rem;\r\n  opacity: .1;\r\n\r\n  word-wrap: break-word;\r\n`\r\n\r\nconst TITLE_TEXT = 'TOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLES' +\r\n  'TOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLES' +\r\n  'TOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLES' +\r\n  'TOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLES' +\r\n  'TOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLESTOOTHTABLES'\r\n\r\nexport function Main() {\r\n  const gameReady = useSelector(getGameReady);\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <RuleMaster />\r\n      <Modal />\r\n      <Hint />\r\n      <StyledTitle>{TITLE_TEXT}</StyledTitle>\r\n      <StyledHeader>\r\n        {gameReady && <Status />}\r\n      </StyledHeader>\r\n      <StyledBody>\r\n        {gameReady && <Board />}\r\n      </StyledBody>\r\n      {gameReady && <Footer />}\r\n    </StyledContainer>\r\n  );\r\n}\r\n","import { HashRouter, Route, Routes } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { Main } from './scenes/main';\r\n\r\nexport const ScStage = styled.div`\r\n  position:absolute;\r\n  left:0;\r\n  top:0;\r\n  right:0;\r\n  bottom:0;\r\n`\r\n\r\nfunction App() {\r\n  const routes = [\r\n    {\r\n      route: '/',\r\n      text: 'Main',\r\n      element: <Main/>\r\n    }\r\n  ]\r\n  \r\n  return (\r\n    <HashRouter>\r\n      <ScStage>\r\n        <Routes>\r\n          {routes.map((p, i) => (\r\n            <Route key={i} path={p.route} element={p.element} />\r\n          ))}\r\n        </Routes>\r\n      </ScStage>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport boardReducer from '../scenes/main/slice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    board: boardReducer\r\n  },\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './themes/fonts.css';\r\nimport GlobalStyle from './themes/';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n      <GlobalStyle />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}