(this["webpackJsonptly-truth-tables"]=this["webpackJsonptly-truth-tables"]||[]).push([[0],{35:function(n,t,e){},36:function(n,t,e){"use strict";e.r(t);var r,i,o,a,c,u,l,s,d,b,m,f,h,p,g,j,v,O,x,w,y,k,z,S,M,I,C,D,A,E=e(0),G=e.n(E),H=e(12),T=e.n(H),U=e(2),N=e(23),V=e(4),_=e(3),R=function(n){switch(n){case"display":return Object(_.b)(r||(r=Object(U.a)(["font-family: 'Noto Sans', sans-serif"])));case"speech":return Object(_.b)(i||(i=Object(U.a)(["font-family: 'VT323', monospace"])));default:return Object(_.b)(o||(o=Object(U.a)(["font-family: 'VT323', monospace"])))}},B=Object(_.a)(a||(a=Object(U.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    outline:0;\n    box-sizing:border-box;\n  }\n  #root{\n    margin:0 auto;\n  }\n  h1, h2, h3, h4{\n    font-family: 'Noto Sans', sans-serif;\n  }\n  a, p, button, span, h5, h6{\n    ",";\n  }\n  h1{\n    font-size: 5rem;\n  }\n  h2{\n    font-size: 4rem;\n  }\n  h3{\n    font-size: 3.5rem;\n  }\n  h4{\n    font-size: 2.5rem;\n  }\n  h5{\n    font-size: 2rem;\n  }\n  p, span{\n    font-size:2rem;\n  }\n\n  html{\n    font-size: 62.5%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    ",";\n    background-color: black;\n  }\n"])),R(),R()),F=function(n){return J.colors[n]},J={colors:{black:"#000000",grey:"#373737",grey_light:"#A39F8E",white:"#fef8dd",blue:"#1fb9f3",green:"#51f249",yellow:"#fff249",red:"#F55658",purple:"#6b1ff3"},shadows:{z1:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)",z2:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)",z3:"-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)"},breakpoints:{mobile_tiny:"300px",mobile_medium:"400px",mobile_large:"500px",tablet:"768px",desktop:"1024px"}},L=e(11),W=function(){return Object(L.b)()},q=L.c,X=e(22),$=e(15),K=e(13),P=[{id:"flyman",name:"fly man",thumbImage:"assets/fly.gif",largeImage:"assets/fly.gif"},{id:"thumbNun",name:"thumb nun",thumbImage:"assets/thumb-nun.gif",largeImage:"assets/thumb-nun.gif"}],Q={},Y=function(n){return Q[n]||(Q[n]=function(n){for(var t=[],e=0;e<n-1;e++){for(var r=[],i=0===e?0:n-e,o=0;o<n-1-e;o++)r.push([i,o+1]);t.push(r)}return t}(n)),Q[n]},Z=function(n,t){return Math.floor(n+Math.random()*(t-n))},nn=function(n,t){return n+Math.random()*(t-n)},tn={roundData:{title:"3 attributes, 3 values",description:"this puzzle has 4 attributes with 3 values each",valueSize:3,attributes:[{id:"animal",type:"thing",values:["monkey","frog","fish"]},{id:"queue",type:"order",values:["first","second","last"]},{id:"emotion",type:"modifier",values:["happy","angry","sad"]},{id:"occupation",type:"thing",values:["firefighter","dentist","clown"]}]},cellMatrix:[],hints:[],activeHintIdx:-1,solution:null},en=Object($.b)({name:"board",initialState:tn,reducers:{resetMatrix:function(n){var t;if((null===(t=n.roundData.attributes)||void 0===t?void 0:t.length)>0){var e,r=(null===(e=n.roundData.attributes)||void 0===e?void 0:e.length)||0,i=n.roundData.valueSize,o=Math.pow(i,2);if(r>1&&r<6){for(var a=un(i,r),c=Y(r),u=[],l=0,s=0;s<c.length;s++)for(var d=0;d<c[s].length;d++)for(var b=0;b<o;b++){var m=c[s][d],f=Math.floor(l%o/i),h=l%i,p=[[m[0],f],[m[1],h]],g=rn(a,p);u.push({idx:l++,attrs:m,isSolution:g,status:0})}n.solution=a,n.cellMatrix=u,n.hints=cn(a,n.roundData.attributes,P)}else console.error("must have between 2 and 5 attributes"),n.cellMatrix=[]}else n.cellMatrix=[]},rotateCell:function(n,t){if(n.cellMatrix){var e=ln(n.cellMatrix[t.payload]);n.cellMatrix[t.payload].status=e}},setActiveHint:function(n,t){t.payload>-1&&!n.hints[t.payload]&&console.error("cannot set invalid hint ".concat(t.payload)),n.activeHintIdx=t.payload}}}),rn=function(n,t){for(var e=function(e){if(2===t.filter((function(t){return n[e][t[0]]===t[1]})).length)return{v:!0}},r=0;r<n.length;r++){var i=e(r);if("object"===typeof i)return i.v}return!1},on=function(n,t){var e=Z(0,n.length),r=Z(0,n.length),i=n[e],o=n[r],a=i,c=Z(0,a.length),u=a[c],l=o.filter((function(n){return n.attributeIdx!==c})),s=l[Z(0,l.length)],d=an(u,s,e===r);return console.log("text: ",d),console.log("---------"),{text:d,used:[[u.attributeIdx,u.valueIdx],[s.attributeIdx,s.valueIdx]]}},an=function(n,t,e){if(n.attributeIdx===t.attributeIdx&&"order"===n.type)return"(bad comparison)";var r="",i="";switch(n.type){case"modifier":case"order":r="The ".concat(n.value," one");break;default:r="The ".concat(n.value)}switch(t.type){case"thing":i="".concat(e?"is":"is not"," a ").concat(t.value);break;case"modifier":i="".concat(e?"is":"is not"," ").concat(t.value);break;case"order":i="".concat(e?"is":"is not"," the ").concat(t.value," one");break;default:i="".concat(e?"is":"is not"," a ").concat(t.value)}return"".concat(r," ").concat(i)},cn=function(n,t,e){console.log("solutions",n),console.log("attributes",t.map((function(n){return n})));var r=[];n.forEach((function(n){r.push(n.map((function(n,e){return{type:t[e].type,attribute:t[e].id,attributeIdx:e,value:t[e].values[n],valueIdx:n}})))})),console.log("attrDetails",r);for(var i=[],o=[],a=0;a<6;a++){var c=on(r);c&&(console.log("used",c.used),c.used.forEach((function(n){o.find((function(t){return t[0]===n[0]&&t[1]===n[1]}))||o.push(n)})),console.log("usedCombos",o),i.push({hintGiverIdx:Math.floor(Math.random()*e.length),text:c.text}))}return i},un=function(n,t){for(var e=[],r=0;r<t;r++)e.push(Array.from(Array(n).keys()));for(var i=[],o=0;o<n;o++){for(var a=[],c=0;c<e.length;c++){var u=Math.floor(Math.random()*e[c].length);a.push(e[c][u]),e[c].splice(u,1)}i.push(a)}return i},ln=function(n){try{switch(n.status){case 0:return 1;case 1:return 2;case 2:return 0}}catch(t){console.error("unexpected lookup for cellObj",n)}return 0},sn=en.actions,dn=sn.resetMatrix,bn=sn.rotateCell,mn=sn.setActiveHint,fn=function(n){return n.board.cellMatrix},hn=function(n){return n.board.roundData},pn=function(n){return n.board.solution},gn=function(n){return n.board.hints},jn=function(n){return{hintGiver:P[n.hintGiverIdx],text:n.text}},vn=Object(K.a)([gn],(function(n){return n.map((function(n){return jn(n)}))})),On=Object(K.a)([gn,function(n){return n.board.activeHintIdx}],(function(n,t){return-1===t?null:jn(n[t])})),xn=Object(K.a)([hn],(function(n){return n.attributes})),wn=Object(K.a)([hn],(function(n){return{numAttributes:n.attributes.length,gridSize:n.valueSize}})),yn=Object(K.a)([xn],(function(n){var t=Y(n.length),e=t.map((function(n){return n[0][0]})),r=t[0].map((function(n){return n[1]}));return[e.map((function(t){return n[t]})),r.map((function(t){return n[t]}))]})),kn=Object(K.a)([hn,fn],(function(n,t){var e,r=Y(null===(e=n.attributes)||void 0===e?void 0:e.length),i=0,o=r[0].length,a=Math.pow(n.valueSize,2);return null===r||void 0===r?void 0:r.map((function(n,e){return Object(X.a)(Array(o)).map((function(n,o){var c=[];if(!r[e][o])return c;for(var u=0;u<a;u++)c.push(t[i++]);return c}))}))})),zn=Object(K.a)([pn,xn],(function(n,t){return null===n||void 0===n?void 0:n.map((function(n){return n.map((function(n,e){return t[e].values[n]}))}))})),Sn=Object(K.a)([fn],(function(n){var t=n.filter((function(n){return n.isSolution})).length,e=n.filter((function(n){return 1===n.status}));if(e.length!==t)return!1;for(var r=n.filter((function(n){return n.isSolution})),i=function(n){if(!e.find((function(t){return t.idx===r[n].idx})))return{v:!1}},o=0;o<r.length;o++){var a=i(o);if("object"===typeof a)return a.v}return!0})),Mn=(Object(K.a)([hn,fn,pn],(function(n,t,e){return{roundData:n,cellMatrix:t,solution:e}})),Object(K.a)([fn],(function(n){return n.filter((function(n){return 1===n.status}))}))),In=function(n,t,e){var r=Math.pow(e,2),i=function(n,t){return Y(t).flat()[n]}(Math.floor(n/r),t),o=Math.floor(n%r/e),a=n%e;return[[i[0],o],[i[1],a]]},Cn=(Object(K.a)([wn,Mn],(function(n,t){return t.map((function(t){return In(t.idx,n.numAttributes,n.gridSize)}))})),en.reducer),Dn=e(1),An=_.c.div(c||(c=Object(U.a)(["\n  position:absolute;\n  transform: matrix(2.0,.9,-1.75,1.5,-300,-50) scale(.4) translate(-50%, -50%);\n  left: 50%;\n  top:50%;\n\n  display:grid;\n  grid-template-columns: 15rem 13rem 13rem 13rem; \n  grid-template-rows: 15rem 13rem 13rem 13rem; \n  column-gap: 2rem;\n  row-gap: 2rem;\n\n  >div{\n    display:grid;\n    column-gap: 2rem;\n    row-gap: 2rem;\n  }\n"]))),En=_.c.div(u||(u=Object(U.a)(["\n  grid-column: 15rem;\n  grid-row: 2 / span 3;\n  \n  grid-template-columns: 15rem; \n  grid-template-rows: 13rem 13rem 13rem;\n"]))),Gn=_.c.div(l||(l=Object(U.a)(["\n  text-align:right;\n  ","\n  ","\n  padding-right:1rem;\n  position:relative;\n  >span{\n    position:absolute;\n    right:0;\n    white-space:nowrap;\n  }\n"])),(function(n){return 4===n.gridSize?Object(_.b)(s||(s=Object(U.a)(["\n    height: 25%;\n  "]))):Object(_.b)(d||(d=Object(U.a)(["\n    height: 33%;\n  "])))}),(function(n){return 4===n.gridSize?Object(_.b)(b||(b=Object(U.a)(["\n    padding-top:0rem;\n  "]))):Object(_.b)(m||(m=Object(U.a)(["\n    padding-top:1rem;\n  "])))})),Hn=_.c.div(f||(f=Object(U.a)(["\n  grid-column: 2 / span 3;\n  grid-row: 15rem;\n  \n  grid-template-columns: 13rem 13rem 13rem;\n  grid-template-rows: 15rem;\n"]))),Tn=_.c.div(h||(h=Object(U.a)(["\n  display:inline-block;\n  ","\n  height: 100%;\n  position:relative;\n\n  span{\n    display:block;\n    position: absolute;\n    ","\n    bottom: -1.5rem;\n    display: block;\n    white-space: nowrap;\n    transform-origin: left;\n    transform: rotate(-90deg);\n  }\n"])),(function(n){return 4===n.gridSize?Object(_.b)(p||(p=Object(U.a)(["\n    width: 25%;\n  "]))):Object(_.b)(g||(g=Object(U.a)(["\n    width: 33%;\n  "])))}),(function(n){return 4===n.gridSize?Object(_.b)(j||(j=Object(U.a)(["\n      left: 1rem;\n    "]))):Object(_.b)(v||(v=Object(U.a)(["\n      left: 2rem;\n    "])))})),Un=_.c.div(O||(O=Object(U.a)(["\n  grid-column: 2 / span 3;\n  grid-row: 2 / span 3;\n\n  grid-template-columns: 13rem 13rem 13rem;\n  grid-template-rows: 13rem 13rem 13rem;\n"]))),Nn=_.c.div(x||(x=Object(U.a)(["\n  display:grid;\n  column-gap: .6rem;\n  row-gap: .6rem;\n"]))),Vn=Object(_.c)(Nn)(w||(w=Object(U.a)(["\n  display:grid;\n  grid-template-columns: repeat(",", ",");\n  grid-template-rows: repeat(",", ",");\n  column-gap: .6rem;\n  row-gap: .6rem;\n"])),(function(n){return n.gridSize}),(function(n){return n.cellRatio}),(function(n){return n.gridSize}),(function(n){return n.cellRatio})),_n=_.c.div(y||(y=Object(U.a)(["\n  border: 3px solid ",";\n  cursor: pointer;\n  transition: background-color .1s, box-shadow .2s;\n  &:hover{\n    box-shadow: 0 0 .2rem .2rem white;\n  }\n  ",";\n  ",";\n  /* ","; */\n"])),F("white"),(function(n){return 1===n.status&&Object(_.b)(k||(k=Object(U.a)(["background-color:",""])),F("green"))}),(function(n){return 2===n.status&&Object(_.b)(z||(z=Object(U.a)(["background-color:",""])),F("red"))}),(function(n){return n.isSolution&&Object(_.b)(S||(S=Object(U.a)(["border-color: ",""])),F("green"))})),Rn=Object(_.c)(Nn)(M||(M=Object(U.a)(["\n  background-color: ",";\n  opacity: .2;\n"])),F("white"));function Bn(){var n=W(),t=q(kn),e=q(yn),r=q(wn),i=Object(E.useCallback)((function(t){n(bn(t))}),[n]),o=Object(E.useMemo)((function(){return 3===r.gridSize?"30%":4===r.gridSize?"20%":"".concat(Math.round(100/r.gridSize),"%")}),[r.gridSize]);return Object(Dn.jsxs)(An,{children:[Object(Dn.jsx)(Un,{children:t.map((function(n){return n.map((function(n,t){return function(n,t,e,r){return n.length>0&&n[0]?Object(Dn.jsx)(Vn,{gridSize:e,cellRatio:r,children:n.map((function(n){return Object(Dn.jsx)(_n,{status:n.status,isSolution:n.isSolution,onClick:function(){return i(n.idx)}},"cell".concat(null===n||void 0===n?void 0:n.idx))}))},t):Object(Dn.jsx)(Rn,{},t)}(n,"cg".concat(t),r.gridSize,o)}))}))}),Object(Dn.jsx)(Hn,{children:e[1].map((function(n,t){return Object(Dn.jsx)("div",{children:n.values.map((function(t,e){return Object(Dn.jsx)(Tn,{gridSize:r.gridSize,children:Object(Dn.jsx)("span",{children:"".concat(n.id," - ").concat(t)})},"tv".concat(e))}))},"tl".concat(t))}))}),Object(Dn.jsx)(En,{children:e[0].map((function(n,t){return Object(Dn.jsx)("div",{children:n.values.map((function(t,e){return Object(Dn.jsx)(Gn,{gridSize:r.gridSize,children:Object(Dn.jsx)("span",{children:"".concat(n.id," - ").concat(t)})},"lv".concat(e))}))},"ll".concat(t))}))})]})}var Fn,Jn,Ln,Wn=_.c.div(I||(I=Object(U.a)(["\n  margin-left:2rem;\n"]))),qn=_.c.div(C||(C=Object(U.a)(["\n  position:absolute;\n  right:0;\n  top:0;\n  padding: .5rem 1rem;\n  border: .5rem solid white;\n  border-radius: 0 0 0 1.5rem;\n\n  font-weight:bold;\n  font-size:3rem;\n"]))),Xn=Object(_.c)(qn)(D||(D=Object(U.a)(["\n  background-color: ",";  \n"])),F("green")),$n=Object(_.c)(qn)(A||(A=Object(U.a)(["\n  background-color: ",";  \n"])),F("red"));function Kn(){var n=q(zn),t=q(Sn);return console.log("solved",t),Object(Dn.jsxs)(Wn,{children:[Object(Dn.jsx)("h3",{children:"Solution:"}),Object(Dn.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(n,t){return Object(Dn.jsx)("li",{children:n.join(" | ")},t)}))}),t?Object(Dn.jsx)(Xn,{children:"SOLVED"}):Object(Dn.jsx)($n,{children:"UNSOLVED"})]})}var Pn,Qn,Yn,Zn,nt,tt,et=_.c.div(Fn||(Fn=Object(U.a)(["\n  margin-left:2rem;\n  height:2rem;\n  border-top: .25rem solid white;\n\n  h4{\n    margin-top:-4rem;\n  }\n  ul{\n    padding-left:10rem;\n    height:100%;\n  }\n"]))),rt=_.c.div(Jn||(Jn=Object(U.a)(["\n  display:inline-block;\n  min-width: 15rem;\n  height:100%;\n  vertical-align:top;\n  margin-left: -5rem;\n  margin-right: 1rem;\n  position: relative;\n"]))),it=_.c.div(Ln||(Ln=Object(U.a)(["\n  position:absolute;\n  width:100%;\n  left:50%;\n  transform: translateX(-50%);\n  height:20rem;\n  top:-12rem;\n  background: url(",") no-repeat center;\n  background-position:top;\n  background-size:cover;\n  cursor: pointer;\n\n  &:hover{\n    top:-16rem;\n    width:130%;\n    transition: top .2s ease-out, width .4s;\n    filter: drop-shadow(0 0 .5rem #ffffff);\n  }\n  transition: top .2s ease-out, width .4s;\n"])),(function(n){return n.imageUrl}));function ot(){var n=q(vn),t=W(),e=Object(E.useCallback)((function(n){t(mn(n))}),[t]);return Object(Dn.jsxs)(et,{children:[Object(Dn.jsx)("h4",{children:"Hints:"}),Object(Dn.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(n,t){return Object(Dn.jsx)(rt,{style:(r=[-2,4],i=[150,250],{marginTop:"".concat(nn(r[0],r[1]),"rem"),width:"".concat(nn(i[0],i[1]),"px")}),children:Object(Dn.jsx)(it,{imageUrl:n.hintGiver.thumbImage,title:n.text,onClick:function(){return e(t)}})},t);var r,i}))})]})}var at,ct,ut,lt=_.c.div(Pn||(Pn=Object(U.a)(["\n  position:fixed;\n  z-index:1;\n  left:10%;\n  right:10%;\n  height:50%;\n  top:25%;\n  padding: 2rem;\n\n  border-radius: 1rem;\n  border: .5rem solid ",";\n  background-color: ",";\n\n  display:grid;\n  grid-template-columns: 33% 67%;\n  grid-template-rows: 5rem auto 10rem;\n"])),F("white"),F("black")),st=_.c.div(Qn||(Qn=Object(U.a)(["\n  grid-column: 1 / span 1;\n  grid-row: 2 / span 1;\n  position:relative;\n"]))),dt=_.c.div(Yn||(Yn=Object(U.a)(["\n  grid-column: 2 / span 1;\n  grid-row: 2 / span 1;\n  padding: 2rem;\n\n  p{\n    ",";\n    font-size:5rem;\n  }\n"])),R("speech")),bt=_.c.div(Zn||(Zn=Object(U.a)(["\n  grid-column: 2 / span 1;\n  grid-row: 1 / span 1;\n\n  text-align:right;\n  font-size: 3rem;\n  margin-right: 1rem;\n  margin-top: 0.5rem;\n"]))),mt=_.c.div(nt||(nt=Object(U.a)(["\n  grid-column: 1 / span 3;\n  grid-row: 3 / span 1;\n  padding: 2rem;\n\n  button{\n    border-radius: 1.5rem;\n    width: 100%;\n    height: 100%;\n    background-color: ",";\n    color: ",";\n    \n    font-size: 3rem;\n\n    cursor: pointer;\n  }\n"])),F("purple"),F("white")),ft=_.c.div(tt||(tt=Object(U.a)(["\n  position:absolute;\n  width:100%;\n  height:100%;\n  top:0rem;\n  background: url(",") no-repeat center;\n  background-position:center;\n  background-size:contain;\n"])),(function(n){return n.imageUrl}));function ht(){var n=q(On),t=W(),e=Object(E.useCallback)((function(){t(mn(-1))}),[t]);return n?Object(Dn.jsxs)(lt,{children:[Object(Dn.jsx)(bt,{children:Object(Dn.jsx)("p",{children:n.hintGiver.name})}),Object(Dn.jsx)(st,{children:Object(Dn.jsx)(ft,{imageUrl:n.hintGiver.largeImage,title:n.hintGiver.name})}),Object(Dn.jsx)(dt,{children:Object(Dn.jsx)("p",{children:n.text})}),Object(Dn.jsx)(mt,{children:Object(Dn.jsx)("button",{onClick:function(){return e()},children:"Close"})})]}):null}var pt,gt=_.c.div(at||(at=Object(U.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  bottom:0;\n  right:0;\n  background-color: ",";\n  color: ",";\n  overflow: hidden;\n\n  display:flex;\n  flex-direction:column;\n"])),F("black"),F("white")),jt=_.c.div(ct||(ct=Object(U.a)(["\n  flex: 0 0 10rem;\n"]))),vt=_.c.div(ut||(ut=Object(U.a)(["\n  flex: 1;\n"])));function Ot(){var n=W();return Object(E.useEffect)((function(){n(dn())}),[n]),Object(Dn.jsxs)(gt,{children:[Object(Dn.jsx)(ht,{}),Object(Dn.jsx)(jt,{children:Object(Dn.jsx)(Kn,{})}),Object(Dn.jsx)(vt,{children:Object(Dn.jsx)(Bn,{})}),Object(Dn.jsx)(ot,{})]})}var xt=_.c.div(pt||(pt=Object(U.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  right:0;\n  bottom:0;\n"])));var wt=function(){var n=[{route:"/",text:"Main",element:Object(Dn.jsx)(Ot,{})}];return Object(Dn.jsx)(N.a,{children:Object(Dn.jsx)(xt,{children:Object(Dn.jsx)(V.c,{children:n.map((function(n,t){return Object(Dn.jsx)(V.a,{path:n.route,element:n.element},t)}))})})})},yt=Object($.a)({reducer:{board:Cn}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));e(35);T.a.render(Object(Dn.jsx)(G.a.StrictMode,{children:Object(Dn.jsxs)(L.a,{store:yt,children:[Object(Dn.jsx)(wt,{}),Object(Dn.jsx)(B,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.dbb0a6c7.chunk.js.map